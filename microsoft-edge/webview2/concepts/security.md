---
description: Узнайте, как разрабатывать безопасные WebView2 приложения.
title: Рекомендации по разработке защищенных приложений WebView2
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 07/14/2020
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: IWebView2, IWebView2WebView, webview2, WebView, приложения Win32, Win32, EDGE, ICoreWebView2, ICoreWebView2Host, управление браузером, EDGE HTML, безопасность
ms.openlocfilehash: 998bcf056e6350efc66880a9ad520f6d969af2f1
ms.sourcegitcommit: f6764f57aed9ab7229e4eb6cc8851d0cea667403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2020
ms.locfileid: "10879146"
---
# Рекомендации по разработке защищенных приложений WebView2

[Элемент управления WebView2](https://docs.microsoft.com/microsoft-edge/webview2/) позволяет разработчикам размещать веб-содержимое в собственных приложениях. При правильном использовании для размещения веб-содержимого предусмотрено несколько преимуществ, например использование пользовательского интерфейса в Интернете, доступ к функциям, совместное использование кода и межплатформенной платформы, и т. д. Чтобы избежать уязвимостей, которые могут возникнуть при размещении веб-содержимого, не забудьте разработать приложение WebView2, чтобы точно отслеживать взаимодействие между веб-содержимым и ведущим приложением. 

1. Считать все веб-содержимое небезопасным
    - Проверка веб-сообщений и параметров объекта хоста перед их использованием, поскольку веб-сообщения и параметры могут быть неправильно сформированы (непреднамеренно или злонамеренно), что приводит к неожиданному поведению приложения.
    - Всегда проверяйте источник документа, который выполняется в WebView2, и оцените надежность содержимого. 

2. Разрабатывать конкретные веб-сообщения и взаимодействия объектов Host вместо обычных прокси.

3. Ограничьте функциональные возможности веб-содержимого, изменив [ICoreWebView2Settings](../reference/win32/0-9-538/icorewebview2settings.md) (Win32) или [CoreWebView2Settings](../reference/dotnet/0-9-538/microsoft-web-webview2-core-corewebview2settings.md) (.NET), как описано ниже.
    - `AreHostObjectsAllowed` `false` Если вы не ожидаете, что веб-содержимое получает доступ к объектам Host, выберите значение.
    - `IsWebMessageEnabled` `false` Если вы не ожидаете, что веб-содержимое будет публиковать веб-сообщения в собственном приложении. 
    - `IsScriptEnabled` `false` Если вы не ожидаете, что веб-содержимое будет выполнять сценарии (например, при отображении статического содержимого HTML).
    - `AreDefaultScriptDialogsEnabled` `false` Если вы не хотите, чтобы веб-содержимое отображалось `alert` или диалоговых окон, установите значение на `prompt` .

4. Используйте `NavigationStarting` события и `FrameNavigationStarting` для обновления параметров на основе источника новой страницы, как описано ниже.
    1. Чтобы не допустить Перемещение приложения на определенные страницы, используйте эти события для проверки и блокировки навигации между страницами и рамками. 
    2. При переходе на новую страницу может потребоваться настроить значения свойств для [ICoreWebView2Settings](../reference/win32/0-9-538/icorewebview2settings.md) (Win32) или [CoreWebView2Settings](../reference/dotnet/0-9-538/microsoft-web-webview2-core-corewebview2settings.md) (.NET)), как описано выше.

5. При переходе к новому документу используйте `ContentLoading` событие для удаления предоставленных объектов узла с помощью `RemoveHostObjectFromScript` . 