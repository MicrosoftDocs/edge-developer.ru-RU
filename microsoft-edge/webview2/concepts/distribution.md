---
description: Варианты распространения при выпуске приложения с помощью Microsoft Edge WebView2
title: Распространение приложения Microsoft Edge WebView2
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 07/14/2020
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: IWebView2, IWebView2WebView, webview2, WebView, приложения WPF, WPF, EDGE, ICoreWebView2, ICoreWebView2Host, элемент управления "браузер", HTML Edge
ms.openlocfilehash: 1b7ebf9dde594b7cdac3b41915fa9d9187d09da1
ms.sourcegitcommit: f6764f57aed9ab7229e4eb6cc8851d0cea667403
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2020
ms.locfileid: "10879179"
---
# <span data-ttu-id="a5d9e-104">Распространение приложений с помощью WebView2</span><span class="sxs-lookup"><span data-stu-id="a5d9e-104">Distribution of applications using WebView2</span></span>  

<span data-ttu-id="a5d9e-105">Элемент управления WebView2 использует платформу Microsoft Edge \ (Chromium \).</span><span class="sxs-lookup"><span data-stu-id="a5d9e-105">The WebView2 control utilizes the Microsoft Edge \(Chromium\) platform.</span></span>  <span data-ttu-id="a5d9e-106">При упаковке и распространении приложения перед запуском приложения убедитесь в том, что у вас установлена копия платформы или среды выполнения WebView2.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-106">When packaging and distributing your app, make sure a copy of the platform or the WebView2 Runtime is present before the app starts.</span></span>  <span data-ttu-id="a5d9e-107">На следующей странице показано, как вы (разработчик) может гарантировать, что среда выполнения WebView2 установлена и использует два режима распространения для вашего приложения WebView2: [Evergreen](#evergreen-distribution-mode) и [фиксированная версия](#fixed-version-distribution-mode).</span><span class="sxs-lookup"><span data-stu-id="a5d9e-107">The following page describes how you \(the developer\) are able to ensure that the WebView2 Runtime is installed and use of the two distribution modes for your WebView2 application:  [Evergreen](#evergreen-distribution-mode) and [Fixed version](#fixed-version-distribution-mode).</span></span>  

## <span data-ttu-id="a5d9e-108">Режим распространения Evergreen</span><span class="sxs-lookup"><span data-stu-id="a5d9e-108">Evergreen distribution mode</span></span>  

<span data-ttu-id="a5d9e-109">Режим распространения Evergreen гарантирует, что ваше приложение использует последние возможности и обновления для системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-109">The evergreen distribution mode ensures that your app is taking advantage of the latest features and security updates.</span></span>  <span data-ttu-id="a5d9e-110">Режим распространения Evergreen имеет следующие характеристики.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-110">The evergreen distribution mode has the following characteristics.</span></span>  

*   <span data-ttu-id="a5d9e-111">Веб-платформа автоматически обновляется без дополнительных усилий.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-111">The web platform updates automatically without additional effort from you.</span></span>  
*   <span data-ttu-id="a5d9e-112">Все приложения, которые используют режим распространения Evergreen, используют общую копию двоичных файлов платформы, что экономит место на диске.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-112">All applications that leverage the evergreen distribution mode use a shared copy of the platform binaries, which saves disk space.</span></span>  

<span data-ttu-id="a5d9e-113">Есть несколько каналов, WebView2, что приложения могут использоваться в качестве веб-платформы.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-113">There are multiple channels WebView2 that applications may use as the web platform.</span></span>  <span data-ttu-id="a5d9e-114">По умолчанию WebView2 ориентирован на самый стабильный канал, доступный на устройстве, который соответствует минимальным требованиям к версии SDK для WebView2.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-114">By default, WebView2 targets the most stable channel available on the device that meets the minimum version requirement of the WebView2 SDK.</span></span>  <span data-ttu-id="a5d9e-115">Следующие каналы перечислены в порядке от наибольшего к минимуму стабильных каналов.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-115">The following channels are listed in order from most to least stable channel.</span></span>  

1.  <span data-ttu-id="a5d9e-116">Среда выполнения WebView2 \ (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="a5d9e-116">WebView2 Runtime \(Preview\)</span></span>  
1.  <span data-ttu-id="a5d9e-117">Канал Microsoft Edge Beta</span><span class="sxs-lookup"><span data-stu-id="a5d9e-117">Microsoft Edge Beta Channel</span></span>  
1.  <span data-ttu-id="a5d9e-118">Канал Microsoft Edge Dev</span><span class="sxs-lookup"><span data-stu-id="a5d9e-118">Microsoft Edge Dev Channel</span></span>  
1.  <span data-ttu-id="a5d9e-119">Канал Microsoft Edge Canary</span><span class="sxs-lookup"><span data-stu-id="a5d9e-119">Microsoft Edge Canary Channel</span></span>    

> [!NOTE]
> <span data-ttu-id="a5d9e-120">Для большинства разработчиков рекомендуется использовать модель распространения Evergreen.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-120">The evergreen distribution model is recommended for most developers.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="a5d9e-121">Стабильный канал Microsoft EDGE не является допустимым целевым объектом для WebView2, поэтому причины описаны ниже.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-121">Microsoft Edge Stable Channel is not a valid target for WebView2, and the reasons are described later.</span></span>  

<span data-ttu-id="a5d9e-122">Дополнительные сведения об управлении версиями можно найти в разделе [Управление версиями][ConceptsVersioning] и [Globals][ReferenceWin3209538WebviewIdl].</span><span class="sxs-lookup"><span data-stu-id="a5d9e-122">For more information about versioning, see [Versioning][ConceptsVersioning] and [Globals][ReferenceWin3209538WebviewIdl].</span></span>  

### <span data-ttu-id="a5d9e-123">Общие сведения о среде выполнения WebView2 и установщике (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="a5d9e-123">Understand the WebView2 Runtime and installer (Preview)</span></span>  

<span data-ttu-id="a5d9e-124">Стабильный канал Microsoft Edge может не устанавливаться на всех компьютерах пользователей, на которых запускается приложение.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-124">Microsoft Edge Stable Channel may not be installed on all user machines where your application runs.</span></span>  <span data-ttu-id="a5d9e-125">Вместо того, чтобы обязательно устанавливать Microsoft EDGE, приложение может использовать среду выполнения Evergreen WebView2 и установщик \ (Предварительная версия).</span><span class="sxs-lookup"><span data-stu-id="a5d9e-125">Instead of requiring that users install Microsoft Edge, your application may use the Evergreen WebView2 Runtime and Installer \(Preview\).</span></span>  <span data-ttu-id="a5d9e-126">Среда выполнения WebView2 — это настраиваемая копия двоичных файлов Microsoft EDGE, которая используется для запуска приложений WebView2.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-126">The WebView2 Runtime is a customized copy of the Microsoft Edge binaries that is used to run your WebView2 applications.</span></span>  <span data-ttu-id="a5d9e-127">После установки исполняющей среды WebView2 пользователи не смогут использовать ее в качестве обычных браузеров.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-127">When the WebView2 Runtime is installed, users are not able to use it as a normal browser.</span></span>  <span data-ttu-id="a5d9e-128">Например, отсутствует ярлык на рабочем столе, элемент меню "Пуск", пользователи не смогут открывать окно браузера с помощью двоичных файлов среды выполнения и т. д.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-128">For example, there is no desktop shortcut, start menu entry, users are not able to open a browser window using the Runtime binaries, and so on.</span></span>  <span data-ttu-id="a5d9e-129">Во всех приложениях Evergreen WebView2 на устройстве может использоваться единая установка среды выполнения Evergreen WebView2.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-129">All Evergreen WebView2 applications on the device may use a single Evergreen WebView2 Runtime installation.</span></span>  

<span data-ttu-id="a5d9e-130">Сегодня во время предварительного просмотра Evergreen WebView2 и канал разработки Microsoft Edge обновляются одновременно и имеют одинаковое построение.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-130">Today during the preview, the Evergreen WebView2 Runtime and Microsoft Edge Dev Channel are updated at the same time and have the same build.</span></span>  <span data-ttu-id="a5d9e-131">В будущем в ходе предварительного просмотра WebView2 Teams планирует обновить среду выполнения WebView2 и соответствовать той же сборке, что и канал бета-версии Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-131">In the future during the Preview, the WebView2 Team plans to update the WebView2 Runtime and match the same build as the Microsoft Edge Beta Channel.</span></span>  <span data-ttu-id="a5d9e-132">В будущем, когда WebView2 приступает к общему доступу, Группа WebView2 Teams планирует обновлять среду выполнения WebView2 и соответствовать той же сборке, что и стабильный канал Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-132">In the future when WebView2 reaches General Availability \(GA\), the WebView2 Team plans to update the WebView2 Runtime and match the same build as the Microsoft Edge Stable Channel.</span></span>  <span data-ttu-id="a5d9e-133">После завершения работы приложения должны использовать среду выполнения WebView2 в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-133">After GA, applications should use the WebView2 Runtime in production.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="a5d9e-134">Не допускайте WebView2 приложения в производство во время предварительного просмотра.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-134">Do not ship WebView2 applications in production during the preview.</span></span>  

<span data-ttu-id="a5d9e-135">Разработчикам рекомендуется убедиться, что среда выполнения Evergreen WebView2 установлена перед запуском приложения.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-135">Developers are recommended to ensure that the Evergreen WebView2 Runtime is installed before application launches.</span></span> <span data-ttu-id="a5d9e-136">Ниже приведен пример рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-136">Below is an example workflow.</span></span>  

1.  <span data-ttu-id="a5d9e-137">Скачайте последнюю версию [установщика среды выполнения Evergreen WebView2][Webview2Installer].</span><span class="sxs-lookup"><span data-stu-id="a5d9e-137">Download the latest [Evergreen WebView2 Runtime Installer][Webview2Installer].</span></span>  
1.  <span data-ttu-id="a5d9e-138">Включите установщик в установщик приложения или в средство обновления.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-138">Include the installer in your application installer or updater.</span></span>  
1.  <span data-ttu-id="a5d9e-139">Во время установки или обновления приложения убедитесь, что среда выполнения Evergreen WebView2 уже установлена на компьютере пользователя, используя API [GetAvailableCoreWebView2BrowserVersionString](../reference/win32/0-9-538/webview2-idl.md#getavailablecorewebview2browserversionstring) и проверяя, имеет ли versionInfo значение null.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-139">During your application installation or update, check if the Evergreen WebView2 Runtime is already installed on the user machine, by using the [GetAvailableCoreWebView2BrowserVersionString](../reference/win32/0-9-538/webview2-idl.md#getavailablecorewebview2browserversionstring) API and checking whether the versionInfo is NULL.</span></span> <span data-ttu-id="a5d9e-140">Если этот параметр не установлен, установщик приложений может автоматически вызвать установщик среды выполнения из процесса с повышенными привилегиями или командной строки с помощью `MicrosoftEdgeWebView2RuntimeInstallerX64.exe /silent /install` .</span><span class="sxs-lookup"><span data-stu-id="a5d9e-140">If not installed, the application installer/updater can silently invoke the runtime installer from an elevated process or command prompt with `MicrosoftEdgeWebView2RuntimeInstallerX64.exe /silent /install`.</span></span> 

<span data-ttu-id="a5d9e-141">В зависимости от вашего сценария вам может потребоваться изменить описанный выше рабочий процесс.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-141">Depending on your scenario, you may need to change the above workflow.</span></span>  <span data-ttu-id="a5d9e-142">Например, установщик приложения может загрузить установщик Evergreen WebView2 среды выполнения, вместо включения его в пакет приложения.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-142">For example, your application installer may download the Evergreen WebView2 Runtime Installer instead of including it in your application package.</span></span>  

> [!NOTE]
> <span data-ttu-id="a5d9e-143">Предварительная версия программы WebView2 Runtime и WebView2 среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-143">Both the WebView2 Runtime and WebView2 Runtime installer are in preview.</span></span>  <span data-ttu-id="a5d9e-144">Предварительный просмотр имеет ограниченную начальную область и доступен только в автономном режиме для установки на компьютере с Windows 10 на 64-разрядной версии.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-144">The preview has a limited initial scope and is only available as a standalone, per-machine install on Windows 10 on x64.</span></span>  <span data-ttu-id="a5d9e-145">В будущем поддержка Windows 7, x86 и ARM64 планируется.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-145">In the future, support for Windows 7, x86, and ARM64 is planned.</span></span>  

### <span data-ttu-id="a5d9e-146">Рекомендации по использованию среды выполнения WebView2 и нестабильных каналов Microsoft Edge</span><span class="sxs-lookup"><span data-stu-id="a5d9e-146">Best practices for using WebView2 Runtime and non-stable Microsoft Edge channels</span></span>  

<span data-ttu-id="a5d9e-147">При предварительной версии ознакомьтесь с приведенными ниже рекомендациями.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-147">Consider the following recommendations during the preview.</span></span>  

*   <span data-ttu-id="a5d9e-148">Убедитесь, что для разработки и тестирования конвейера упаковки и распространителя используется [Среда выполнения Evergreen WebView2 и установщик][Webview2Installer] .</span><span class="sxs-lookup"><span data-stu-id="a5d9e-148">Make sure to use the [Evergreen WebView2 Runtime and Installer][Webview2Installer] to develop or test your packaging and distribution pipeline.</span></span>  <span data-ttu-id="a5d9e-149">В будущем рабочее приложение должно включать установщик.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-149">In the future, your production application should include the installer.</span></span>  
*   <span data-ttu-id="a5d9e-150">Для разработки приложения вы можете использовать среду выполнения Evergreen WebView2.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-150">For developing your application, you may use the Evergreen WebView2 Runtime.</span></span>  <span data-ttu-id="a5d9e-151">Несмотря на то, что при переходе среды выполнения с канала разработки на канал Beta или стабильный канал, номер сборки среды выполнения может не соответствовать последним требованиям к предварительной версии SDK WebView2.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-151">However, as the runtime shifts from the Dev Channel to the Beta Channel or Stable Channel, the runtime build number may not meet the most recent preview WebView2 SDK minimum version requirements.</span></span>  <span data-ttu-id="a5d9e-152">Если вы хотите использовать самую последнюю версию пакета SDK, установите канал Microsoft Edge Канарские Channel, чтобы убедиться, что на устройстве доступна совместимая сборка.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-152">If you wish to use the most recent SDK, install the Microsoft Edge Canary channel to ensure a compatible build is available on the device.</span></span>  <span data-ttu-id="a5d9e-153">Дополнительные сведения об управлении версиями можно найти в разделе [Управление версиями][ConceptsVersioning].</span><span class="sxs-lookup"><span data-stu-id="a5d9e-153">For more information about versioning, see [Versioning][ConceptsVersioning].</span></span>  
*   <span data-ttu-id="a5d9e-154">Чтобы протестировать веб-содержимое для обеспечения совместимости с изменениями в платформе, недоступными в стабильном канале, используйте соответствующий нестабильный канал.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-154">To test your web content for compatibility with changes to the platform not available in the Stable Channel, use the appropriate non-Stable Channel as required.</span></span>  

## <span data-ttu-id="a5d9e-155">Режим распространения фиксированной версии</span><span class="sxs-lookup"><span data-stu-id="a5d9e-155">Fixed version distribution mode</span></span>  

> [!NOTE]
> <span data-ttu-id="a5d9e-156">Модель распространения фиксированных версий в настоящее время недоступна.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-156">The fixed version distribution model is currently not available.</span></span>  

<span data-ttu-id="a5d9e-157">Для ограниченных сред существуют планы поддержки фиксированной версии (прежнее название — собственный режим распространения).</span><span class="sxs-lookup"><span data-stu-id="a5d9e-157">For constrained environments, there are plans to support a fixed version \(previously named bring-your-own\) distribution mode.</span></span>  <span data-ttu-id="a5d9e-158">Режим распространения с фиксированной версией позволяет выбрать и упаковать определенную версию среды выполнения WebView2.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-158">The fixed version distribution mode allows you to select and package a specific version of the WebView2 Runtime.</span></span>  <span data-ttu-id="a5d9e-159">Режим распространения с фиксированной версией позволяет управлять тем, какая версия среды выполнения WebView2 используется приложением, и при обновлении компьютеров пользователей.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-159">The fixed version distribution mode allows you to control which version of the WebView2 Runtime is used by your application, and when user machines are updated.</span></span>  <span data-ttu-id="a5d9e-160">Режим распространения фиксированной версии не получает никаких автоматических обновлений, и вы должны запланировать применение обновлений вручную.</span><span class="sxs-lookup"><span data-stu-id="a5d9e-160">The fixed version distribution mode does not receive any automatic updates, and you should plan to manually apply updates.</span></span>  

<!-- links -->  

[ConceptsVersioning]: ./versioning.md "Общие сведения о версиях браузеров и WebView2 | Документы Microsoft"  
[ReferenceWin3209538WebviewIdl]: ../reference/win32/0-9-538/webview2-idl.md  "Globals | Документы Microsoft"  

[Webview2Installer]: https://developer.microsoft.com/microsoft-edge/webview2 "Установщик WebView2"  
