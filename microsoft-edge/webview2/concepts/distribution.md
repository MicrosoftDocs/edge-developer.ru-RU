---
description: Варианты распространения при выпуске приложения с помощью Microsoft Edge WebView2
title: Распространение приложений Microsoft Edge WebView2
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 11/19/2020
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: IWebView2, IWebView2WebView, webview2, WebView, приложения WPF, WPF, EDGE, ICoreWebView2, ICoreWebView2Host, элемент управления "браузер", HTML Edge
ms.openlocfilehash: 89e53c43c3550d0a7a3707381cc4c76be111db28
ms.sourcegitcommit: 56cb5821d1b8e96f55bfa14a4ce87a3845b009c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2020
ms.locfileid: "11182294"
---
# <span data-ttu-id="81267-104">Распространение приложений с помощью WebView2</span><span class="sxs-lookup"><span data-stu-id="81267-104">Distribution of apps using WebView2</span></span>  

<span data-ttu-id="81267-105">При распространении приложения WebView2 перед запуском приложения убедитесь, что резервная веб-платформа, [WebView2 среды выполнения][Webview2Installer], присутствует.</span><span class="sxs-lookup"><span data-stu-id="81267-105">When distributing your WebView2 app, ensure the backing web platform, the [WebView2 Runtime][Webview2Installer], is present before the app starts.</span></span>  <span data-ttu-id="81267-106">В этой статье описано, как (разработчику) установить среду выполнения WebView2 и использовать два режима распространения для вашего приложения WebView2:  [Evergreen](#evergreen-distribution-mode) и [fixed Version](#fixed-version-distribution-mode).</span><span class="sxs-lookup"><span data-stu-id="81267-106">This article describes how you \(the developer\) install the WebView2 Runtime, and use the two distribution modes for your WebView2 app:  [Evergreen](#evergreen-distribution-mode) and [Fixed Version](#fixed-version-distribution-mode).</span></span>  

## <span data-ttu-id="81267-107">Режим распространения Evergreen</span><span class="sxs-lookup"><span data-stu-id="81267-107">Evergreen distribution mode</span></span>  

> [!NOTE]
> <span data-ttu-id="81267-108">Для большинства разработчиков рекомендуется использовать режим распространения Evergreen.</span><span class="sxs-lookup"><span data-stu-id="81267-108">The Evergreen distribution mode is recommended for most developers.</span></span>  

<span data-ttu-id="81267-109">Режим распространения Evergreen гарантирует, что ваше приложение использует последние возможности и обновления для системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="81267-109">The Evergreen distribution mode ensures that your app is taking advantage of the latest features and security updates.</span></span>  <span data-ttu-id="81267-110">Она обладает следующими характеристиками.</span><span class="sxs-lookup"><span data-stu-id="81267-110">It has the following characteristics.</span></span>  

*   <span data-ttu-id="81267-111">Базовая веб-платформа \ (WebView2 (среда выполнения)) обновляется автоматически без дополнительных усилий.</span><span class="sxs-lookup"><span data-stu-id="81267-111">The underlying web platform \(WebView2 Runtime\) updates automatically without additional effort from you.</span></span>  
*   <span data-ttu-id="81267-112">Во всех приложениях, использующих режим распространения Evergreen, используется общая копия среды выполнения Evergreen WebView2, что экономит место на диске.</span><span class="sxs-lookup"><span data-stu-id="81267-112">All apps that use the Evergreen distribution mode use a shared copy of the Evergreen WebView2 Runtime, which saves disk space.</span></span>  
    
### <span data-ttu-id="81267-113">Общие сведения о среде выполнения WebView2</span><span class="sxs-lookup"><span data-stu-id="81267-113">Understanding the WebView2 Runtime</span></span>  

<span data-ttu-id="81267-114">Среда выполнения WebView2 является распространяемой средой выполнения и используется в качестве резервной веб-платформы для приложений WebView2.</span><span class="sxs-lookup"><span data-stu-id="81267-114">The WebView2 Runtime is a redistributable runtime and serves as the backing web platform for WebView2 apps.</span></span>  <span data-ttu-id="81267-115">Концепция сходна с Visual C++ или средой выполнения .NET для приложений/.NET на C++.</span><span class="sxs-lookup"><span data-stu-id="81267-115">The concept is similar to Visual C++ or the .NET Runtime for C++/.NET apps.</span></span>  <span data-ttu-id="81267-116">Среда выполнения включает измененные двоичные файлы Microsoft Edge \ (Chromium \), которые настроены и протестированы для приложений.</span><span class="sxs-lookup"><span data-stu-id="81267-116">The Runtime contains modified Microsoft Edge \(Chromium\) binaries that are fine-tuned and tested for apps.</span></span>  <span data-ttu-id="81267-117">Среда выполнения не отображается в качестве видимого для пользователя браузера при установке.</span><span class="sxs-lookup"><span data-stu-id="81267-117">The Runtime does not appear as a user-visible browser upon installation.</span></span>  <span data-ttu-id="81267-118">Например, у пользователя нет ярлыка на рабочем столе браузера или элемента меню "Пуск".</span><span class="sxs-lookup"><span data-stu-id="81267-118">For example, a user does not have a browser desktop shortcut or start menu entry.</span></span>  

<span data-ttu-id="81267-119">Во время разработки и тестирования вы можете использовать либо резервную веб-платформу.</span><span class="sxs-lookup"><span data-stu-id="81267-119">During development and testing, you may use either as the backing web platform.</span></span>  

*   <span data-ttu-id="81267-120">Среда выполнения WebView2</span><span class="sxs-lookup"><span data-stu-id="81267-120">The WebView2 Runtime</span></span>  
*   <span data-ttu-id="81267-121">Любой канал предварительной оценки (не стабильный) Microsoft Edge \ (Chromium \) в браузере</span><span class="sxs-lookup"><span data-stu-id="81267-121">Any Insider \(non-stable\) Microsoft Edge \(Chromium\) browser channel</span></span>  
    
<span data-ttu-id="81267-122">В рабочих средах перед запуском приложения необходимо убедиться, что среда выполнения присутствует на устройстве пользователя.</span><span class="sxs-lookup"><span data-stu-id="81267-122">In production environments, you must ensure the Runtime is present on user devices before the app starts.</span></span>  <span data-ttu-id="81267-123">Стабильный канал Microsoft Edge недоступен для использования WebView2.</span><span class="sxs-lookup"><span data-stu-id="81267-123">The Microsoft Edge Stable channel is unavailable for WebView2 usage.</span></span>  <span data-ttu-id="81267-124">Это решение предотвращает зависимость приложениями от браузера в производстве.</span><span class="sxs-lookup"><span data-stu-id="81267-124">The decision prevents apps from taking a dependency on the browser in production.</span></span>

<span data-ttu-id="81267-125">Не следует использовать зависимость от браузера по следующим причинам:</span><span class="sxs-lookup"><span data-stu-id="81267-125">Do not take a dependency on the browser because:</span></span>  

*   <span data-ttu-id="81267-126">Microsoft Edge \ (Chromium \) не гарантируется на всех устройствах пользователей.</span><span class="sxs-lookup"><span data-stu-id="81267-126">Microsoft Edge \(Chromium\) is not guaranteed to be present on all user devices.</span></span>  <span data-ttu-id="81267-127">Например, если устройства отключены от центра обновления Windows или не управляются корпорацией Майкрософт напрямую (в крупной части компании и на рынке для образовательных учреждений) не может быть браузера.</span><span class="sxs-lookup"><span data-stu-id="81267-127">For example, devices disconnected from Windows Update or not managed by Microsoft directly \(a large portion of the Enterprise and EDU market\) may not have the browser.</span></span>  <span data-ttu-id="81267-128">Предоставление вам возможности распространения среды выполнения WebView2 не позволяет использовать зависимость в браузере в качестве предварительной версии для приложений.</span><span class="sxs-lookup"><span data-stu-id="81267-128">Allowing you to distribute the WebView2 Runtime avoids taking a dependency on the browser as a pre-requisite for apps.</span></span>  
*   <span data-ttu-id="81267-129">В браузерах и приложениях используются различные варианты использования, поэтому использование зависимостей в браузере может привести к нежелательным побочным эффектам для приложений.</span><span class="sxs-lookup"><span data-stu-id="81267-129">Browsers and apps have different use cases, and so taking a dependency on a browser may have unintended side-effects on your apps.</span></span>  <span data-ttu-id="81267-130">Например, ИТ-администраторы могут управлять версиями в браузере для обеспечения совместимости внутренних веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="81267-130">For example, IT admins may version-control the browser for internal website compatibility.</span></span>  <span data-ttu-id="81267-131">Среда выполнения WebView2 позволяет приложениям оставаться Evergreen, пока обновления браузера активно управляются.</span><span class="sxs-lookup"><span data-stu-id="81267-131">The WebView2 Runtime allows apps to stay evergreen while browser updates are being actively managed.</span></span>  
*   <span data-ttu-id="81267-132">В отличие от браузера, среда выполнения разрабатывается и тестируется для сценариев приложений, а в некоторых случаях может включать исправления ошибок, еще не доступные в браузере.</span><span class="sxs-lookup"><span data-stu-id="81267-132">As opposed to the browser, the Runtime is developed and tested for app scenarios and in some cases may include bug fixes not yet available in the browser.</span></span>  
    
<span data-ttu-id="81267-133">В будущем планы выполнения Evergreen WebView2, которые планируется использовать в будущих выпусках Windows.</span><span class="sxs-lookup"><span data-stu-id="81267-133">In the future, the Evergreen WebView2 Runtime plans to ship with future releases of Windows.</span></span>  <span data-ttu-id="81267-134">Развертывание среды выполнения с помощью приложения "производство" до тех пор, пока среда выполнения не станет доступной в универсальном виде.</span><span class="sxs-lookup"><span data-stu-id="81267-134">Deploy the Runtime with your production app until the Runtime becomes more universally available.</span></span>  

### <span data-ttu-id="81267-135">Развертывание среды выполнения Evergreen WebView2</span><span class="sxs-lookup"><span data-stu-id="81267-135">Deploying the Evergreen WebView2 Runtime</span></span>  

<span data-ttu-id="81267-136">Для всех Evergreen приложений на устройстве требуется только одна установка среды выполнения Evergreen WebView2.</span><span class="sxs-lookup"><span data-stu-id="81267-136">Only one installation of the Evergreen WebView2 Runtime is needed for all Evergreen apps on the device.</span></span>  <span data-ttu-id="81267-137">На [странице загрузки среды выполнения WebView2][Webview2Installer]доступно несколько средств.</span><span class="sxs-lookup"><span data-stu-id="81267-137">There are a number of tools available on the [WebView2 Runtime download page][Webview2Installer].</span></span>  <span data-ttu-id="81267-138">Следующие инструменты помогут вам развернуть среду выполнения Evergreen.</span><span class="sxs-lookup"><span data-stu-id="81267-138">The following tools help you deploy the Evergreen Runtime.</span></span>  

*   <span data-ttu-id="81267-139">Загрузчик среды выполнения WebView2 — это крошечный установщик \ (примерно 2 МБ \).</span><span class="sxs-lookup"><span data-stu-id="81267-139">WebView2 Runtime Bootstrapper is a tiny \(approximately 2 MB\) installer.</span></span>  <span data-ttu-id="81267-140">Загрузчик среды выполнения WebView2 загружает и устанавливает среду выполнения Evergreen с серверов Microsoft, которые соответствуют архитектуре устройства пользователя.</span><span class="sxs-lookup"><span data-stu-id="81267-140">WebView2 Runtime Bootstrapper downloads and installs the Evergreen Runtime from Microsoft servers that matches the user's device architecture.</span></span>  
*   <span data-ttu-id="81267-141">Используйте ссылку для программной загрузки загрузчика.</span><span class="sxs-lookup"><span data-stu-id="81267-141">Use a link to programmatically download the bootstrapper.</span></span>  
*   <span data-ttu-id="81267-142">Автономный установщик среды выполнения WebView2 — это полный установщик, который устанавливает среду выполнения Evergreen WebView2 в автономных средах.</span><span class="sxs-lookup"><span data-stu-id="81267-142">WebView2 Runtime Standalone Installer is a full installer that installs the Evergreen WebView2 Runtime in offline environments.</span></span>  
    
<span data-ttu-id="81267-143">В настоящее время загрузчик и автономный установщик поддерживают только установки для компьютера, для которого требуется повышение прав.</span><span class="sxs-lookup"><span data-stu-id="81267-143">Currently, both the bootstrapper and standalone installer only support per-machine installs, which requires elevation.</span></span>  <span data-ttu-id="81267-144">Если установщик запускается без повышения прав, пользователю будет предложено поднять разрешения.</span><span class="sxs-lookup"><span data-stu-id="81267-144">If an installer is run without elevation, the user is prompted to elevate permissions.</span></span>  

<span data-ttu-id="81267-145">Используйте следующие рабочие процессы, чтобы убедиться, что среда выполнения уже установлена перед запуском приложения.</span><span class="sxs-lookup"><span data-stu-id="81267-145">Use following workflows to ensure the Runtime is already installed before your app launches.</span></span>  <span data-ttu-id="81267-146">Вы можете настроить рабочий процесс в зависимости от вашего сценария.</span><span class="sxs-lookup"><span data-stu-id="81267-146">You may adjust your workflow depending on your scenario.</span></span>  <span data-ttu-id="81267-147">Пример кода можно найти в [репозиторий примеров] [GitHubMicrosoftedgeWebView2samplesWebview2Deployment].</span><span class="sxs-lookup"><span data-stu-id="81267-147">Sample code is available in the [Samples repo][GitHubMicrosoftedgeWebView2samplesWebview2Deployment].</span></span>  

#### <span data-ttu-id="81267-148">Развертывание только в сети</span><span class="sxs-lookup"><span data-stu-id="81267-148">Online-only deployment</span></span>  

<span data-ttu-id="81267-149">Если у вас есть сценарий развертывания, предназначенный только в Интернете, выполните указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="81267-149">If you have an online-only deployment scenario where users are assumed to have internet access, complete the following steps.</span></span>  

1.  <span data-ttu-id="81267-150">Убедитесь, что во время настройки приложения среда выполнения уже установлена.</span><span class="sxs-lookup"><span data-stu-id="81267-150">During your app setup, ensure the Runtime is already installed.</span></span>  <span data-ttu-id="81267-151">Чтобы проверить, выполните одно из указанных ниже действий.</span><span class="sxs-lookup"><span data-stu-id="81267-151">To  verify, complete one of the following actions.</span></span>  
    *   <span data-ttu-id="81267-152">Проверить, существует ли элемент `pv (REG_SZ)` RegKey и что он не является `null` пустым.</span><span class="sxs-lookup"><span data-stu-id="81267-152">Inspect if the `pv (REG_SZ)` regkey exists and is not `null` or empty.</span></span>  <span data-ttu-id="81267-153">Найдите  `pv (REG_SZ)` в следующем расположении.</span><span class="sxs-lookup"><span data-stu-id="81267-153">Find  `pv (REG_SZ)` at the following location.</span></span>  
        
        <span data-ttu-id="81267-154">В 64 – разрядная версия Windows</span><span class="sxs-lookup"><span data-stu-id="81267-154">On 64-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
        <span data-ttu-id="81267-155">В 32 – разрядная версия Windows</span><span class="sxs-lookup"><span data-stu-id="81267-155">On 32-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
    *   <span data-ttu-id="81267-156">Запустите [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] и убедитесь в том, что `versionInfo` это так `NULL` .</span><span class="sxs-lookup"><span data-stu-id="81267-156">Run [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] and ensure the `versionInfo` is `NULL`.</span></span>  
1.  <span data-ttu-id="81267-157">Если среда выполнения не установлена, воспользуйтесь ссылкой, чтобы программно загрузить загрузчик.</span><span class="sxs-lookup"><span data-stu-id="81267-157">If the Runtime is not installed, use the link to programmatically download the bootstrapper.</span></span>  
1.  <span data-ttu-id="81267-158">Вызовите загрузчик из процесса с повышенными привилегиями или командной строки `MicrosoftEdgeWebview2Setup.exe /silent /install` для автоматической установки.</span><span class="sxs-lookup"><span data-stu-id="81267-158">Invoke the bootstrapper from an elevated process or command prompt with `MicrosoftEdgeWebview2Setup.exe /silent /install` for silent install.</span></span>  
    
<span data-ttu-id="81267-159">Предыдущий рабочий процесс имеет указанные ниже преимущества.</span><span class="sxs-lookup"><span data-stu-id="81267-159">The previous workflow has the following benefits.</span></span>  

*   <span data-ttu-id="81267-160">Устанавливайте среду выполнения только в том случае, если это необходимо или если вам не требуется устанавливать пакет для установки.</span><span class="sxs-lookup"><span data-stu-id="81267-160">Install the Runtime only when needed or when you are not required to package installers.</span></span>  
*   <span data-ttu-id="81267-161">Загрузчик автоматически обнаружит архитектуру устройства и установит соответствующую среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="81267-161">The bootstrapper automatically detects device architecture and installs the matching Runtime.</span></span>  
*   <span data-ttu-id="81267-162">Установка среды выполнения без вмешательства пользователя.</span><span class="sxs-lookup"><span data-stu-id="81267-162">Install the Runtime silently.</span></span>  
    
<span data-ttu-id="81267-163">Вы также можете упаковать загрузчик с приложением, а не загружать его программным путем по запросу.</span><span class="sxs-lookup"><span data-stu-id="81267-163">You may also choose to package the bootstrapper with your app instead of programmatically downloading it on demand.</span></span>  

#### <span data-ttu-id="81267-164">Развертывание в автономном режиме</span><span class="sxs-lookup"><span data-stu-id="81267-164">Offline deployment</span></span>  

<span data-ttu-id="81267-165">Если вы работаете в автономном режиме, когда развертывание приложения будет работать в автономном режиме, выполните указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="81267-165">If you have an offline deployment scenario where app deployment has to work entirely offline, complete the following steps.</span></span>  

1.  <span data-ttu-id="81267-166">Скачайте [автономный установщик][Webview2Installer].</span><span class="sxs-lookup"><span data-stu-id="81267-166">Download the [standalone installer][Webview2Installer].</span></span>  
1.  <span data-ttu-id="81267-167">Включите установщик в установщик приложений или средство обновления.</span><span class="sxs-lookup"><span data-stu-id="81267-167">Include the installer in your app installer or updater.</span></span>  
1.  <span data-ttu-id="81267-168">Убедитесь, что во время настройки приложения среда выполнения уже установлена.</span><span class="sxs-lookup"><span data-stu-id="81267-168">During your app setup, ensure the Runtime is already installed.</span></span>  <span data-ttu-id="81267-169">Чтобы проверить, выполните одно из указанных ниже действий.</span><span class="sxs-lookup"><span data-stu-id="81267-169">To  verify, complete one of the following actions.</span></span>  
    *   <span data-ttu-id="81267-170">Проверить, существует ли элемент `pv (REG_SZ)` RegKey и что он не является `null` пустым.</span><span class="sxs-lookup"><span data-stu-id="81267-170">Inspect if the `pv (REG_SZ)` regkey exists and is not `null` or empty.</span></span>  <span data-ttu-id="81267-171">Найдите  `pv (REG_SZ)` в следующем расположении.</span><span class="sxs-lookup"><span data-stu-id="81267-171">Find  `pv (REG_SZ)` at the following location.</span></span>  
        
        <span data-ttu-id="81267-172">В 64 – разрядная версия Windows</span><span class="sxs-lookup"><span data-stu-id="81267-172">On 64-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
        <span data-ttu-id="81267-173">В 32 – разрядная версия Windows</span><span class="sxs-lookup"><span data-stu-id="81267-173">On 32-bit Windows</span></span>  
        
        ```text
        HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\EdgeUpdate\Clients\{F3017226-FE2A-4295-8BDF-00C3A9A7E4C5}
        ```  
        
    *   <span data-ttu-id="81267-174">Запустите [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] и убедитесь в том, что `versionInfo` это так `NULL` .</span><span class="sxs-lookup"><span data-stu-id="81267-174">Run [GetAvailableCoreWebView2BrowserVersionString][ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring] and ensure the `versionInfo` is `NULL`.</span></span>  
1.  <span data-ttu-id="81267-175">Если среда выполнения не установлена, запустите автономный установщик.</span><span class="sxs-lookup"><span data-stu-id="81267-175">If the Runtime is not installed, run the standalone installer.</span></span>  <span data-ttu-id="81267-176">Если вы хотите выполнить автоматическую установку, запустите установщик из процесса с повышенными привилегиями или скопируйте и выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="81267-176">If you want to run a silent installation, either run the installer from an elevated process or copy and run the following command.</span></span>  
    
    ```shell
    MicrosoftEdgeWebView2RuntimeInstaller{X64/X86/ARM64}.exe /silent /install
    ```  
    
### <span data-ttu-id="81267-177">Совместимость в режиме Evergreen</span><span class="sxs-lookup"><span data-stu-id="81267-177">Stay compatible in Evergreen mode</span></span>  

<span data-ttu-id="81267-178">Интернет постоянно развивается.</span><span class="sxs-lookup"><span data-stu-id="81267-178">The Web is constantly evolving.</span></span>  <span data-ttu-id="81267-179">Среда выполнения Evergreen WebView2 актуальна для обеспечения последних функций и исправлений для системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="81267-179">The Evergreen WebView2 Runtime is kept up to date to provide you with the latest features and security fixes.</span></span>  <span data-ttu-id="81267-180">Для обеспечения совместимости приложения с Интернетом следует настроить инфраструктуру тестирования.</span><span class="sxs-lookup"><span data-stu-id="81267-180">To ensure your app stays compatible with the web, you should set up testing infrastructure.</span></span>  

<span data-ttu-id="81267-181">Нестабильные каналы Microsoft Edge \ (бета-версия/разработка/Канарские \) предоставляют краткий обзор того, что поступает в среду выполнения WebView2.</span><span class="sxs-lookup"><span data-stu-id="81267-181">Non-stable Microsoft Edge channels \(Beta/Dev/Canary\) provide a sneak peek into what is coming next into WebView2 Runtime.</span></span>  <span data-ttu-id="81267-182">Как и в случае разработки веб-сайтов для Microsoft EDGE, вы должны регулярно тестировать приложение WebView2.</span><span class="sxs-lookup"><span data-stu-id="81267-182">Just like developing websites for Microsoft Edge, you should test your WebView2 app regularly.</span></span>  <span data-ttu-id="81267-183">Протестируйте приложение WebView2 с одним из нестабильных каналов и обновляйте свое приложение или [сообщайте о проблемах][GithubMicrosoftedgeWebviewfeedback] в случае возникновения проблем.</span><span class="sxs-lookup"><span data-stu-id="81267-183">Test your WebView2 app against one of the non-stable channels, and update your app or [report issues][GithubMicrosoftedgeWebviewfeedback] if issues arise.</span></span> <span data-ttu-id="81267-184">Обычно для разработки и бета-версии рекомендуются каналы.</span><span class="sxs-lookup"><span data-stu-id="81267-184">Typically Dev and Beta are the recommended channels.</span></span>  <span data-ttu-id="81267-185">Чтобы помочь вам выбрать подходящий канал, перейдите к разделу [Обзор каналов Microsoft Edge][DeployEdgeMicrosoftEdgeChannels].</span><span class="sxs-lookup"><span data-stu-id="81267-185">To help you decide which channel is right, navigate to [Overview of the Microsoft Edge channels][DeployEdgeMicrosoftEdgeChannels].</span></span>  <span data-ttu-id="81267-186">Вы можете скачать [нестабильный канал Microsoft Edge][DownloadNonstableEdge] в тестовой среде, а также использовать `regkey` переменные среды для обозначения канала для вашего приложения, поддерживающего тестирование.</span><span class="sxs-lookup"><span data-stu-id="81267-186">You may download the [non-stable Microsoft Edge channel][DownloadNonstableEdge] on your test environment, and use `regkey` or environment variables to indicate the channel preference for your testing app.</span></span>  <span data-ttu-id="81267-187">Дополнительные сведения можно найти в [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions].</span><span class="sxs-lookup"><span data-stu-id="81267-187">For more information, navigate to [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions].</span></span>  <span data-ttu-id="81267-188">Кроме того, вы можете автоматизировать тестирование WebView2 с помощью этого [устройства][HowtoWebdriver] .</span><span class="sxs-lookup"><span data-stu-id="81267-188">You may also use [WebDriver][HowtoWebdriver] to automate WebView2 testing.</span></span>

## <span data-ttu-id="81267-189">Режим распространения фиксированной версии</span><span class="sxs-lookup"><span data-stu-id="81267-189">Fixed Version distribution mode</span></span>  

> [!NOTE]
> <span data-ttu-id="81267-190">Режим распространения с фиксированной версией — общедоступный предварительный просмотр.</span><span class="sxs-lookup"><span data-stu-id="81267-190">The Fixed Version distribution mode is in Public Preview.</span></span>  

<span data-ttu-id="81267-191">Режим распространения с фиксированной версией был ранее назван "My-собственная".</span><span class="sxs-lookup"><span data-stu-id="81267-191">The Fixed Version distribution mode was previously named bring-your-own.</span></span>  

<span data-ttu-id="81267-192">Для ограниченных сред с строгой совместимостью следует использовать режим распространения с фиксированной версией.</span><span class="sxs-lookup"><span data-stu-id="81267-192">For constrained environments with strict compatibility requirements, consider using the Fixed Version distribution mode.</span></span>  <span data-ttu-id="81267-193">Выберите и упакуйте определенную версию среды выполнения WebView2, используя режим распространения с фиксированной версией.</span><span class="sxs-lookup"><span data-stu-id="81267-193">Choose and package a specific version of the WebView2 Runtime using the Fixed Version distribution mode.</span></span>  <span data-ttu-id="81267-194">Вы можете указать время обновления среды выполнения для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="81267-194">You may specify the timing of Runtime updates for your app.</span></span>  <span data-ttu-id="81267-195">Режим распространения фиксированной версии не получает никаких автоматических обновлений.</span><span class="sxs-lookup"><span data-stu-id="81267-195">The Fixed Version distribution mode does not receive any automatic updates.</span></span> <span data-ttu-id="81267-196">Спланируйте, как обновить приложение и среду выполнения.</span><span class="sxs-lookup"><span data-stu-id="81267-196">Plan to update your app and the Runtime.</span></span>  

<span data-ttu-id="81267-197">Чтобы использовать режим фиксированной версии, выполните указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="81267-197">To use the Fixed Version mode, complete the following actions</span></span>

1.  <span data-ttu-id="81267-198">[Скачайте][Webview2Installer] пакет фиксированной версии.</span><span class="sxs-lookup"><span data-stu-id="81267-198">[Download][Webview2Installer] the Fixed Version package.</span></span> 
1.  <span data-ttu-id="81267-199">Распакуйте пакет с помощью командной строки `expand {path to the package} -F:* {path to the destination folder}` или таких средств, как WinRAR.</span><span class="sxs-lookup"><span data-stu-id="81267-199">Decompress the package using command line `expand {path to the package} -F:* {path to the destination folder}` or with tools such as WinRAR.</span></span> <span data-ttu-id="81267-200">Не следует распаковать файл в проводнике, так как это может привести к неправильной структуре папок.</span><span class="sxs-lookup"><span data-stu-id="81267-200">Avoid decompressing through the File Explorer as it may not generate the correct folder structure.</span></span>  
1.  <span data-ttu-id="81267-201">Включите в проект распакованные двоичные файлы фиксированной версии.</span><span class="sxs-lookup"><span data-stu-id="81267-201">Include the decompressed Fixed Version binaries in your project.</span></span>  
1.  <span data-ttu-id="81267-202">Укажите путь к двоичным файлам с фиксированной версией при создании среды WebView2.</span><span class="sxs-lookup"><span data-stu-id="81267-202">Indicate the path to the Fixed Version binaries when creating the WebView2 environment.</span></span>  
    *   <span data-ttu-id="81267-203">Для Win32 C/C++ вы можете создать среду с помощью функции [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions] .</span><span class="sxs-lookup"><span data-stu-id="81267-203">For Win32 C/C++, you may create the environment using the [CreateCoreWebView2EnvironmentWithOptions][ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions] function.</span></span>  <span data-ttu-id="81267-204">Используйте этот `browserExecutableFolder` параметр, чтобы указать путь к папке, содержащей ее `msedgewebview2.exe` .</span><span class="sxs-lookup"><span data-stu-id="81267-204">Use the `browserExecutableFolder` parameter to indicate the path to the folder containing `msedgewebview2.exe`.</span></span>  
    *   <span data-ttu-id="81267-205">В .NET можно задать среду с помощью одного из следующих параметров.</span><span class="sxs-lookup"><span data-stu-id="81267-205">For .NET, you may do either of the following options to specify the environment.</span></span>  
        
        > [!NOTE]
        > <span data-ttu-id="81267-206">Прежде чем свойство WebView2 будет применено, необходимо указать среду `Source` .</span><span class="sxs-lookup"><span data-stu-id="81267-206">You must specify the environment before the WebView2 `Source` property takes effect.</span></span>  
        
        *   <span data-ttu-id="81267-207">Задайте `CreationProperties` свойство \ ([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Creationproperties] / [WinForms][ReferenceWinFormsMicrosoftWebWebview2WinFormsWebview2]\) для элемента WebView2.</span><span class="sxs-lookup"><span data-stu-id="81267-207">Set the `CreationProperties` \([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Creationproperties]/[WinForms][ReferenceWinFormsMicrosoftWebWebview2WinFormsWebview2]\) property on the WebView2 element.</span></span>  <span data-ttu-id="81267-208">Используйте `BrowserExecutableFolder` элемент `CoreWebView2CreationProperties` класса \ ([WPF][ReferenceWpfMicrosoftWebWebview2WpfCorewebview2creationpropertiesCorewebview2creationproperties] / [WinForms][ReferenceWinFormsMicrosoftWebWebview2WinForms]\), чтобы указать путь к двоичным файлам с фиксированной версией.</span><span class="sxs-lookup"><span data-stu-id="81267-208">Use the `BrowserExecutableFolder` member in the `CoreWebView2CreationProperties` \([WPF][ReferenceWpfMicrosoftWebWebview2WpfCorewebview2creationpropertiesCorewebview2creationproperties]/[WinForms][ReferenceWinFormsMicrosoftWebWebview2WinForms]\) class to indicate the path to the Fixed Version binaries.</span></span>  
        *   <span data-ttu-id="81267-209">Используйте `EnsureCoreWebView2Async` \ ([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Ensurecorewebview2async] / [WinForms][ReferenceWinformsMicrosoftWebWebview2WinformsWebview2Ensurecorewebview2async]\), чтобы указать среду.</span><span class="sxs-lookup"><span data-stu-id="81267-209">Use `EnsureCoreWebView2Async` \([WPF][ReferenceWpfMicrosoftWebWebview2WpfWebview2Ensurecorewebview2async]/[WinForms][ReferenceWinformsMicrosoftWebWebview2WinformsWebview2Ensurecorewebview2async]\) to specify the environment.</span></span>  <span data-ttu-id="81267-210">Используйте `browserExecutableFolder` параметр в [CoreWebView2Environment. CreateAsync][ReferenceDotnetMicrosoftWebWebview2CoreCorewebview2environmentCreateasync] , чтобы указать путь к двоичным файлам с фиксированной версией.</span><span class="sxs-lookup"><span data-stu-id="81267-210">Use the `browserExecutableFolder` parameter in [CoreWebView2Environment.CreateAsync][ReferenceDotnetMicrosoftWebWebview2CoreCorewebview2environmentCreateasync] to indicate the path to the Fixed Version binaries.</span></span>  
1.  <span data-ttu-id="81267-211">Упакуйте и отгрузите двоичные файлы фиксированной версии с приложением.</span><span class="sxs-lookup"><span data-stu-id="81267-211">Package and ship the Fixed Version binaries with your app.</span></span>  <span data-ttu-id="81267-212">Обновите двоичные файлы соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="81267-212">Update the binaries as appropriate.</span></span>  
    
### <span data-ttu-id="81267-213">Известные проблемы с исправленной версией</span><span class="sxs-lookup"><span data-stu-id="81267-213">Known issues for Fixed Version</span></span>  

<span data-ttu-id="81267-214">По сравнению со средой выполнения Evergreen в исправленной версии отсутствует процесс установки, что приводит к тому, что [приложение Microsoft PlayReady][MicrosoftPlayReady] не будет работать без изменений.</span><span class="sxs-lookup"><span data-stu-id="81267-214">Compared to the Evergreen Runtime, Fixed Version does not have an installation process, which causes [Microsoft PlayReady][MicrosoftPlayReady] to not work without modification.</span></span>  <span data-ttu-id="81267-215">Вы можете устранить проблему, выполнив указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="81267-215">You may mitigate the problem by completing the following actions.</span></span>  

1.  <span data-ttu-id="81267-216">Найдите путь, по которому развертывается пакет фиксированной версии на устройстве пользователя, например в следующем расположении.</span><span class="sxs-lookup"><span data-stu-id="81267-216">Locate the path where you deploy the Fixed Version package on the user's device, such as the following location.</span></span>
    
    ```text
    D:\myapp\Microsoft.WebView2.FixedVersionRuntime.87.0.664.8.x64
    ```  
    
1.  <span data-ttu-id="81267-217">Выполните указанные ниже команды на устройстве пользователя.</span><span class="sxs-lookup"><span data-stu-id="81267-217">Run the following commands on the user's device.</span></span>

    ```shell
    icacls {Fixed Version path} /grant *S-1-15-2-2:(OI)(CI)(RX)
    icacls {Fixed Version path} /grant *S-1-15-2-1:(OI)(CI)(RX)
    ```  

1.  <span data-ttu-id="81267-218">В настоящее время на устройстве пользователя будет работать PlayReady.</span><span class="sxs-lookup"><span data-stu-id="81267-218">PlayReady should be working now on the user's device.</span></span>  <span data-ttu-id="81267-219">На вкладке **Безопасность** папки **фиксированная версия** она должна включать разрешения `ALL APPLICATION PACKAGES` и `ALL RESTRICTED APPLICATION PACKAGES` .</span><span class="sxs-lookup"><span data-stu-id="81267-219">In the **Security** tab of the **Fixed Version** folder, it should include permissions for `ALL APPLICATION PACKAGES` and `ALL RESTRICTED APPLICATION PACKAGES`.</span></span>  

    :::image type="complex" source="../media/play-ready-permission.png" alt-text="Разрешение для PlayReady" lightbox="../media/play-ready-permission.png":::
        <span data-ttu-id="81267-221">Разрешение для PlayReady</span><span class="sxs-lookup"><span data-stu-id="81267-221">Permission for PlayReady</span></span>  
    :::image-end:::  

<!-- links -->  

[ConceptsVersioning]: ./versioning.md "Общие сведения о версиях браузеров и WebView2 | Документы Microsoft"  
[HowtoWebdriver]: ../howto/webdriver.md "Автоматизация и тестирование WebView2 с помощью драйвера Microsoft Edge | Документы Microsoft"  

[ReferenceWin32Webview2IdlCreatecorewebview2environmentwithoptions]: /microsoft-edge/webview2/reference/win32/webview2-idl#createcorewebview2environmentwithoptions "CreateCoreWebView2EnvironmentWithOptions-Globals | Документы Microsoft"  
[ReferenceWin32Webview2IdlGetavailablecorewebview2browserversionstring]: /microsoft-edge/webview2/reference/win32/webview2-idl#getavailablecorewebview2browserversionstring "GetAvailableCoreWebView2BrowserVersionString-Globals | Документы Microsoft"  

[DeployEdgeMicrosoftEdgeChannels]: /deployedge/microsoft-edge-channels "Общие сведения о каналах Microsoft Edge | Документы Microsoft"  

[ReferenceDotnetMicrosoftWebWebview2CoreCorewebview2environmentCreateasync]: /dotnet/api/microsoft.web.webview2.core.corewebview2environment.createasync "Класс CreateAsync-Microsoft. Web. WebView2. Core. CoreWebView2Environment | Документы Microsoft"  
[ReferenceWpfMicrosoftWebWebview2WpfWebview2Ensurecorewebview2async]: /dotnet/api/microsoft.web.webview2.wpf.webview2.ensurecorewebview2async "Класс EnsureCoreWebView2Async-Microsoft. Web. WebView2. WPF. WebView2 | Документы Microsoft"  
[ReferenceWinformsMicrosoftWebWebview2WinformsWebview2Ensurecorewebview2async]: /dotnet/api/microsoft.web.webview2.winforms.webview2.ensurecorewebview2async "Класс EnsureCoreWebView2Async-Microsoft. Web. WebView2. WinForms. WebView2 | Документы Microsoft"  
[ReferenceWpfMicrosoftWebWebview2WpfCorewebview2creationpropertiesCorewebview2creationproperties]: /dotnet/api/microsoft.web.webview2.wpf.corewebview2creationproperties "Класс CoreWebView2CreationProperties-Microsoft. Web. WebView2. WPF. CoreWebView2CreationProperties | Документы Microsoft"  
[ReferenceWinFormsMicrosoftWebWebview2WinForms]: /dotnet/api/microsoft.web.webview2.winforms "Класс Microsoft. Web. WebView2. WinForms | Документы Microsoft"  
[ReferenceWpfMicrosoftWebWebview2WpfWebview2Creationproperties]: /dotnet/api/microsoft.web.webview2.wpf.webview2.creationproperties "Класс CreationProperties-Microsoft. Web. WebView2. WPF. WebView2 | Документы Microsoft"  
[ReferenceWinFormsMicrosoftWebWebview2WinFormsWebview2]: /dotnet/api/microsoft.web.webview2.winforms.webview2 "Класс Microsoft. Web. WebView2. WinForms. WebView2 | Документы Microsoft"  

[Webview2Installer]: https://developer.microsoft.com/microsoft-edge/webview2 "Установщик WebView2 | Разработчик Майкрософт"  

[DownloadNonstableEdge]: https://www.microsoftedgeinsider.com/download "Скачайте каналы предварительной оценки Microsoft Edge"  

[GithubMicrosoftedgeWebviewfeedback]: https://github.com/MicrosoftEdge/WebViewFeedback "WebView отзыв | GitHub"  

[GitHubMicrosoftMicrosoftEdgeWebView2SamplesWebview2Deployment]: https://github.com/MicrosoftEdge/WebView2Samples#webview2-deployment "WebView2 развертывание — MicrosoftEdge/WebView2Samples | GitHub"  

[MicrosoftPlayReady]: https://www.microsoft.com/playready "Microsoft PlayReady"  
