---
description: Убедитесь в том, что содержимое мультимедиа на вашем сайте является предполагаемым.
title: 'Руководство по разработке: политики автозапуска'
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 9/17/2018
ms.topic: article
ms.prod: microsoft-edge
keywords: EDGE, мультимедиа, видео, звук, автозапуск
ms.custom: seodec18
ms.openlocfilehash: 397c6f0a22359dbfab7c44370b0429147b7c9834
ms.sourcegitcommit: 6860234c25a8be863b7f29a54838e78e120dbb62
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2020
ms.locfileid: "10570902"
---
# Политики автозапуска

Microsoft Edge предоставляет пользователям возможность персонализировать настройки браузера на веб-сайтах, которые перезапускают мультимедиа с помощью звука, чтобы свести к минимуму количество отвлекающих на веб-сайте и экономить пропускную способность. Дополнительно Microsoft EDGE автоматически запрещает Автозапуск мультимедиа в закладках на фоне.

Пользователи могут настраивать параметры поведения мультимедиа как для [глобальных](#global-media-autoplay-settings) , так и [для отдельных](#per-site-media-autoplay-settings) элементов управления, которые предоставляют следующие возможности.

- " **Разрешить** " — используется по умолчанию и продолжает воспроизводить видео при первом просмотре вкладки на переднем плане на усмотрение сайта.

- " **Ограничить** ", чтобы автозапуск работал только при выключенном видеоролике, так что пользователи не будут удивлены звуковым сигналом. Когда пользователь щелкает на странице в любом месте, автозапуск повторно включается, и на этой вкладке он по-прежнему будет разрешен в этом домене.

- **Запрещает** автозапуск на всех сайтах, пока пользователи не будут напрямую взаимодействовать с содержимым мультимедиа.

## Параметры автозапуска для глобальных файлов мультимедиа

Пользователи могут управлять поведением автоматического запуска по умолчанию для всех сайтов в разделе **Дополнительные параметры**  >  **автозапуска мультимедиа**.

![Параметры автозапуска для глобальных файлов мультимедиа](../media/autoplay_global.png)

## Параметры автозапуска мультимедиа для отдельных сайтов

Пользователи могут управлять поведением автозапуск на уровне отдельных сайтов в разделе " **разрешения** для веб-сайта" в области "сведения о веб-сайте". Этот параметр можно найти, щелкнув значок "сведения" или значок замка в левой части адресной строки и выбрав пункт "Параметры автозапуска мультимедиа", чтобы приступить к работе.

Параметры на уровне сайта переопределяют глобальный параметр. Например, если для пользователя задано значение "разрешить", но для параметра "на уровне сайта" выбрано значение "блокировать", автозапуск будет заблокирован для этого сайта.

![Параметры автозапуска мультимедиа для отдельных сайтов](../media/autoplay_per-site.png)
 
## Рекомендации для веб-разработчиков

Ниже показано, как обеспечить оптимальное взаимодействие пользователей с мультимедиа на вашем сайте.

- Предположим, что для каждого использования мультимедийного элемента будет требуется жест пользователя, чтобы начать воспроизведение (поскольку пользователи могут блокировать Автозапуск в любой момент времени) и планировать соответствующим образом.  Глобальные политики для автозапуска и включения на уровне сайта применяются ко всем `<audio>` и `<video>` элементам независимо от того, как они используются на вашем сайте.

- Убедитесь, что элементы управления мультимедиа всегда присутствуют на обоих носителях сайта и рекламном контенте. Таким образом пользователи смогут перезапустить воспроизведение, если на странице заблокирован автозапуск.

- Определите, как автозапуск может повлиять на работу пользователей на вашем веб-сайте, и используйте автозапуск таким образом, чтобы свести к минимуму воспроизведение нежелательного мультимедиа. Если функция "Автозапуск" является важной частью вашего опыта, вы можете использовать отключенное содержимое, чтобы включить его и разрешить пользователю включать микрофон. Чтобы отключить автозапуск содержимого для автозапуска, источник звука должен быть либо явно отключен, либо не был установлен. В противном случае элемент не будет рассматриваться как отключенный.

- Если нет необходимости в других случаях, используйте собственные элементы управления браузера для воспроизведения мультимедиа. Это обеспечит постоянную работу пользователей. Если вы собираетесь создать пользовательские элементы управления, убедитесь в том, что элементы управления мультимедиа всегда присутствуют и что элементы управления правильно реагируют на отключение автозапуска.

### Делегирование IFRAME

Автозапуск в интерфейсе `<iframe>` будет наследовать разрешение на автозапуск от родительской страницы независимо от происхождения содержимого. В сценарии воспроизведения, в котором каждый файл мультимедиа размещается на отдельном интернет-кадре, пользователю потребуется только один раз запустить воспроизведение для всего списка воспроизведения.

### Определение того, разрешено ли автозапуск

Вы можете настроить элементы управления воспроизведением так, чтобы оно отображало правильное состояние, когда автозапуск заблокирован, проверив обещание, возвращенное `play()` функцией на мультимедийном элементе:

```Javascript

var promise = document.querySelector('video').play();

if (promise !== undefined) { 
    promise.catch(_error => { 
        // Autoplay was blocked
        // Show user media controls to manually start playback
    }).then(() => { 
        // Autoplay started
    }); 
}

```
