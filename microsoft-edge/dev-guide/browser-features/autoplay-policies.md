---
description: Предотвращение работы с контентом мультимедиа на сайте
title: Политики автозапуска — руководство для разработки
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 07/28/2020
ms.topic: article
ms.prod: microsoft-edge
keywords: Edge, мультимедиа, видео, звук, автозапуск
ms.custom: seodec18
ms.openlocfilehash: 39c9bd8e9921167dfc3a9ab1a4cc12b2157f0f6f
ms.sourcegitcommit: 29cbe0f464ba0092e025f502833eb9cc3e02ee89
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2020
ms.locfileid: "10942061"
---
# Политики автозапуска  

[!INCLUDE [deprecation-note](../../includes/legacy-edge-note.md)]  

Microsoft Edge предоставляет клиентам возможность персонализировать параметры просмотра на веб-сайтах, которые автоматически воспроизводят мультимедиа, чтобы минимизировать отвлекающую информацию в Интернете и пропускную способность.  Кроме того, Microsoft Edge автоматически запускает автоматическое воспроизведение мультимедиа на фоновых вкладках.  

Пользователи могут настраивать поведение мультимедиа, используя [глобальные](#global-media-autoplay-settings) элементы управления автозапуском и автозапуска, которые предоставляют следующие параметры: [per-site](#per-site-media-autoplay-settings)  

*   `Allow`  По умолчанию видео воспроизводятся при первом просмотре вкладки на переднем плане на переднем плане сайта.  

*   `Limit`  Функция запретила воспроизведение видео только при отключении звука, поэтому звуковые файлы никогда не удлетворяют.  Когда пользователь щелкнет в любом месте страницы, функция автозапуска снова включится и будет доступна в этом домене на этой вкладке.  

*   `Block`  Предотвращайте скорость воспроизведения на всех сайтах, пока пользователи не взаимодействуют с материалами мультимедиа.  

## Настройки глобального медианы  

Пользователи могут управлять поведением по умолчанию для всех сайтов с помощью функции **автозапуска мультимедиа.**  >  **Media autoplay**  

:::image type="complex" source="../media/autoplay_global.png" alt-text="Настройки глобального медианы" lightbox="../media/autoplay_global.png":::
   Настройки глобального медианы  
:::image-end:::  

## Параметры автозапуска мультимедиа на отдельном сайте  

Пользователи могут управлять автоматическим воспроизведением **Website permissions** для каждого сайта в разделе "Разрешения для веб-сайта" области сведений о веб-сайте.  Для этого можно щелкнуть значок информации или значок блокировки в левой части адресной строки и выбрать параметры **автозапуска мультимедиа,** чтобы начать работу.  

Переопределение глобального параметра на отдельном сайте переопределены.  Например, если для пользователя задан глобальный `Allow` параметр, но изменяет параметры на отдельном сайте на значение, автозапуск будет `Block` заблокирован.  

:::image type="complex" source="../media/autoplay_per-site.png" alt-text="Параметры автозапуска мультимедиа на отдельном сайте" lightbox="../media/autoplay_per-site.png":::
   Параметры автозапуска мультимедиа на отдельном сайте  
:::image-end:::  

## Рекомендации по использованию веб-разработчиков  

Вот как обеспечить удобство работы с мультимедиа, размещенными на сайте:  

*   Предположим, что для каждого использования элемента мультимедиа требуется жест пользователя начинать воспроизведение \(так как пользователи могут заблокировать автозапуск при каждом моменте времени\) и соответствовать планированию соответствует определенному планированию.  Политики автоиграфики для каждого сайта применяются ко всем и элементам `<audio>` `<video>` независимо от того, как они используются на вашем сайте.  

*   Элементы управления мультимедиа всегда находятся на мультимедиа, так и по рекламной адаптации.  Это позволит пользователям перезапустить воспроизведение, если автозапуск заблокирован.  

*   Оцените, как автоводит пользователей на вашем веб-сайте и воспроизводите их с помощью автозапуска, чтобы свести к минимуму нежелательные функции воспроизведения мультимедиа.  Если автозапуск является важной частью вашего интерфейса, рекомендуем использовать отключенный контент для запуска и разрешить пользователю включить микрофон.  Чтобы содержимое отключено для автозапуска, для автозапуска необходимо явно выключить звук или не включить его.  В противном примере элемент не будет считаться отключенным.  

*   Используйте встроенные элементы управления браузером для воспроизведения мультимедиа.  Это обеспечит согласованное восприятие пользователей.  Если вы создаете пользовательские элементы управления мультимедиа, убедитесь, что элементы управления мультимедиа всегда вступили в силу и что элементы управления мультимедиа правильно воспроизводятся.  

### Делегирование iframe  

Автозапуск в модуле наследующий способ написания разрешений от родительской страницы независимо от `<iframe>` источника контента.  В сценарии, содержащем каждый файл мультимедиа, размещенным отдельно iframe, пользователю нужно будет использовать воспроизведение для всего списка воспроизведения.  

### Обнаружение случаев, когда автозапуск разрешено  

Вы можете настроить элементы управления воспроизведением так, чтобы в нем правильно отображалось состояние, возвращаемое функцией в `play()` элементе мультимедиа:  

```javascript
var promise = document.querySelector('video').play();

if (promise !== undefined) { 
    promise.catch(_error => { 
        // Autoplay was blocked
        // Show user media controls to manually start playback
    }).then(() => { 
        // Autoplay started
    }); 
}
```  
