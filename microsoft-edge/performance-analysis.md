---
ms.assetid: 7a5f9fd0-90a9-43db-b271-178c06da5896
description: С помощью средств разработчика F12 вы можете анализировать общую производительность веб-сайтов.
title: Анализ производительности
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 02/08/2017
ms.topic: article
ms.prod: microsoft-edge
keywords: EDGE, веб-разработка, HTML, CSS, JavaScript, разработчик
ms.openlocfilehash: 7bf71744298502c9edf8ee1262fceff5640bedf1
ms.sourcegitcommit: 6860234c25a8be863b7f29a54838e78e120dbb62
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2020
ms.locfileid: "10572816"
---
# <span data-ttu-id="95144-104">Анализ производительности</span><span class="sxs-lookup"><span data-stu-id="95144-104">Performance Analysis</span></span>

<span data-ttu-id="95144-105">Если вы не знакомы с производительностью, вы должны ознакомиться с [руководством по DevTools F12](./devtools-guide.md).</span><span class="sxs-lookup"><span data-stu-id="95144-105">If you're new to performance, you should check out the [F12 DevTools guide](./devtools-guide.md).</span></span>
<span data-ttu-id="95144-106">[Средства F12](./devtools-guide.md) , встроенные в Microsoft EDGE, можно использовать для анализа общего функционирования веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="95144-106">The [F12 tools](./devtools-guide.md) built into Microsoft Edge can be used to analyze the general performance of a web site.</span></span> <span data-ttu-id="95144-107">Она предоставляет аналогичные (но более ограниченные) возможности для [набора средств для оценки производительности Windows](https://docs.microsoft.com/windows-hardware/test/wpt/index) прямо в браузере.</span><span class="sxs-lookup"><span data-stu-id="95144-107">It provides similar (but more limited) capabilities to the [Windows Performance Toolkit](https://docs.microsoft.com/windows-hardware/test/wpt/index) from right within the browser.</span></span>



<span data-ttu-id="95144-108">Если вам нужен более глубокий анализ производительности браузера, группа Microsoft Edge использует [набор средств для оценки производительности Windows](https://docs.microsoft.com/windows-hardware/test/wpt/index) (WPT).</span><span class="sxs-lookup"><span data-stu-id="95144-108">If you want a deeper analysis of browser performance, the Microsoft Edge team uses the [Windows Performance Toolkit](https://docs.microsoft.com/windows-hardware/test/wpt/index) (WPT).</span></span> <span data-ttu-id="95144-109">WPT была создана командой Windows для анализа производительности программы в более глубоком виде.</span><span class="sxs-lookup"><span data-stu-id="95144-109">WPT was created by the Windows team to conduct in-depth program performance analysis.</span></span> <span data-ttu-id="95144-110">Он задействует границы между веб-сайтом JavaScript и Microsoft Edge Native Code, позволяя просматривать их в одном и том же инструменте.</span><span class="sxs-lookup"><span data-stu-id="95144-110">It straddles the boundaries between website JavaScript and Microsoft Edge native code, allowing both to be viewed within the same tool.</span></span> <span data-ttu-id="95144-111">WPT можно использовать для того, чтобы:</span><span class="sxs-lookup"><span data-stu-id="95144-111">WPT can be used to:</span></span>
 - <span data-ttu-id="95144-112">Измерение времени ЦП, затраченного на полную работу программного обеспечения</span><span class="sxs-lookup"><span data-stu-id="95144-112">Measure CPU time taken for software to complete work</span></span>
 - <span data-ttu-id="95144-113">Расчет памяти, выделенной программным обеспечением</span><span class="sxs-lookup"><span data-stu-id="95144-113">Calculate the memory allocated by software</span></span>
 - <span data-ttu-id="95144-114">Отображение сведений о загрузке файлов с удаленных серверов</span><span class="sxs-lookup"><span data-stu-id="95144-114">Show the details of downloading files from remote servers</span></span>
 - <span data-ttu-id="95144-115">Измеряет частоту кадров.</span><span class="sxs-lookup"><span data-stu-id="95144-115">Measure frame rate.</span></span>


<span data-ttu-id="95144-116">Чтобы приступить к анализу веб-сайта с помощью средства Windows Performance Toolkit, сначала необходимо загрузить [комплект средств для оценки и развертывания Windows 10 (ADK)](https://developer.microsoft.com/windows/hardware/windows-assessment-deployment-kit).</span><span class="sxs-lookup"><span data-stu-id="95144-116">To get started with using the Windows Performance Toolkit to analyze your website, you'll first need to download the [Windows 10 Assessment and Deployment Kit (ADK)](https://developer.microsoft.com/windows/hardware/windows-assessment-deployment-kit).</span></span> <span data-ttu-id="95144-117">В процессе установки выберите параметр *Windows Performance Toolkit* .</span><span class="sxs-lookup"><span data-stu-id="95144-117">Select the *Windows Performance Toolkit* option during installation:</span></span>

![Варианты установки для ADK](./media/adk-installoptions.png)

<span data-ttu-id="95144-119">Здесь мы покажем, как записать и проанализировать трассировку производительности.</span><span class="sxs-lookup"><span data-stu-id="95144-119">Here we'll cover how to record and analyze a performance trace.</span></span> <span data-ttu-id="95144-120">Дополнительные сведения о том, что входит в состав набора средств для оценки производительности Windows, можно найти в полной [документации WPT](https://docs.microsoft.com/windows-hardware/test/wpt/index).</span><span class="sxs-lookup"><span data-stu-id="95144-120">To learn more about what's included in the Windows Performance Toolkit, check out the full [WPT documentation](https://docs.microsoft.com/windows-hardware/test/wpt/index).</span></span>

## <span data-ttu-id="95144-121">Запись трассировки</span><span class="sxs-lookup"><span data-stu-id="95144-121">Recording a trace</span></span>
<span data-ttu-id="95144-122">Затем настройте пользовательский сценарий и подготовьтесь к сбору трассировки с помощью средства записи производительности Windows.</span><span class="sxs-lookup"><span data-stu-id="95144-122">Next, set up your user scenario and prepare to gather a trace using Windows Performance Recorder.</span></span>
<span data-ttu-id="95144-123">Ниже описано, как профилировать веб-сценарий с помощью *средства записи производительности Windows (ЗВЧ)*.</span><span class="sxs-lookup"><span data-stu-id="95144-123">Here's how to profile your web scenario with the *Windows Performance Recorder (WPR)*.</span></span>

### <span data-ttu-id="95144-124">1. Подготовка среды для сбора данных о трассировке производительности</span><span class="sxs-lookup"><span data-stu-id="95144-124">1. Prepare your environment to gather a performance trace</span></span>
<span data-ttu-id="95144-125">Чтобы избежать шума в трассировке, которую вы собираетесь записать, завершите работу максимально возможного количества запущенных программ.</span><span class="sxs-lookup"><span data-stu-id="95144-125">Shut down as many running programs as possible to avoid noise in the trace that you're about to record.</span></span> <span data-ttu-id="95144-126">В идеале единственным запущенным программным обеспечением будет средство записи производительности Windows (ЗВЧ) и браузер.</span><span class="sxs-lookup"><span data-stu-id="95144-126">Ideally, the only running software will be Windows Performance Recorder (WPR) and the browser.</span></span>

### <span data-ttu-id="95144-127">2. Запуск средства записи производительности Windows (ЗВЧ) и выбор параметров</span><span class="sxs-lookup"><span data-stu-id="95144-127">2. Launch Windows Performance Recorder (WPR) and select options</span></span>
<span data-ttu-id="95144-128">Запустите средство записи производительности Windows и убедитесь, что переключатель **дополнительных параметров** расширен.</span><span class="sxs-lookup"><span data-stu-id="95144-128">Launch the Windows Performance Recorder and ensure that **More options** toggle is expanded.</span></span> <span data-ttu-id="95144-129">Установите флажки " *Обозреватель Edge* " и "анализ сценария *отклика HTML* ".</span><span class="sxs-lookup"><span data-stu-id="95144-129">Select the *Edge Browser* and *HTML Responsiveness* scenario analysis checkboxes.</span></span>

![Параметры записи производительности Windows](./media/wprui-options.png)

#### <span data-ttu-id="95144-131">Советы и рекомендации по сбору трассировок</span><span class="sxs-lookup"><span data-stu-id="95144-131">Tips and tricks for gathering traces</span></span>
- <span data-ttu-id="95144-132">Попробуйте сохранить фоновую активность абсолютной требуемой минимальной величины.</span><span class="sxs-lookup"><span data-stu-id="95144-132">Try to keep background activity to an absolute required minimum.</span></span> <span data-ttu-id="95144-133">Фоновые процессы могут наклонять как распознанную производительность, так и реальные характеристики производительности и влиять на результаты.</span><span class="sxs-lookup"><span data-stu-id="95144-133">Background processes may skew both perceived performance and actual performance characteristics and affect the results.</span></span> <span data-ttu-id="95144-134">В идеале не работают другие приложения, работающие в браузере и ЗВЧ.</span><span class="sxs-lookup"><span data-stu-id="95144-134">Ideally there are no other running applications beside browser and WPR.</span></span>
- <span data-ttu-id="95144-135">Определите сценарии, которые вы анализируете, и постарайтесь сделать их как можно более атомарными.</span><span class="sxs-lookup"><span data-stu-id="95144-135">Identify the scenarios you're analyzing and try to keep them as atomic as possible.</span></span> <span data-ttu-id="95144-136">Например, если на сайте возникли проблемы с производительностью при загрузке страницы, прокрутку и выборе чего-либо в таблице, разделите проблемы на три сценария.</span><span class="sxs-lookup"><span data-stu-id="95144-136">For example, if your site has performance problems when loading the page, scrolling, and selecting something in a table, separate the issues into three scenarios:</span></span>
  - <span data-ttu-id="95144-137">Загрузка страницы (от начала навигации до загрузки страницы завершена)</span><span class="sxs-lookup"><span data-stu-id="95144-137">Page load (from start of navigation to page load complete)</span></span>
  - <span data-ttu-id="95144-138">Scroll</span><span class="sxs-lookup"><span data-stu-id="95144-138">Scroll</span></span>
  - <span data-ttu-id="95144-139">Выбор чего-либо в таблице</span><span class="sxs-lookup"><span data-stu-id="95144-139">Selecting something in the table</span></span>
- <span data-ttu-id="95144-140">Если сценарий включает переход на веб-сайт, рассматривайте сценарий в разделе about: blank.</span><span class="sxs-lookup"><span data-stu-id="95144-140">If a scenario involves navigating to a site, consider beginning the scenario at about:blank.</span></span> <span data-ttu-id="95144-141">Начиная с about: blank, вы не сможете накладные расходы на предыдущей странице.</span><span class="sxs-lookup"><span data-stu-id="95144-141">Starting at about:blank will avoid the overhead of the previous page.</span></span> <span data-ttu-id="95144-142">Если это связано с сайтом, перейдите к разделу about: blank, чтобы завершить сценарий.</span><span class="sxs-lookup"><span data-stu-id="95144-142">If it involves navigating away from a site, navigate to about:blank to complete the scenario.</span></span> <span data-ttu-id="95144-143">Это позволит предотвратить Отслежение от других сайтов, пока не будет определена проблема, связанная с обработкой.</span><span class="sxs-lookup"><span data-stu-id="95144-143">This will keep the noise of other sites out of the trace unless the specific interaction between sites is the issue under investigation.</span></span>

### <span data-ttu-id="95144-144">3. запись сценария</span><span class="sxs-lookup"><span data-stu-id="95144-144">3. Record the scenario</span></span>
<span data-ttu-id="95144-145">Нажмите кнопку **начать** , чтобы начать запись.</span><span class="sxs-lookup"><span data-stu-id="95144-145">Click **Start** to begin recording.</span></span> <span data-ttu-id="95144-146">Инструмент сообщит о размере буфера, который он использует, чтобы помочь вам оценить размер создаваемого файла.</span><span class="sxs-lookup"><span data-stu-id="95144-146">The tool will report the size of the buffer it is using to help you anticipate the size of the generated file.</span></span> <span data-ttu-id="95144-147">Выполните сценарий пользователя, который вы хотите измерить, и нажмите кнопку **сохранить** , чтобы остановить запись и сохранить трассировку.</span><span class="sxs-lookup"><span data-stu-id="95144-147">Perform the user scenario you want to measure, then click **Save** to stop the recording and save the trace.</span></span> <span data-ttu-id="95144-148">Сохранение сразу после завершения сценария поможет минимизировать размер файла трассировки.</span><span class="sxs-lookup"><span data-stu-id="95144-148">Saving immediately after finishing your scenario will help minimize the size of the trace file.</span></span>

![Начало записи производительности Windows](./media/wprui-recording.png)

<span data-ttu-id="95144-150">Инструмент "ЗВЧ" укажет, что данные трассировки были успешно сохранены:</span><span class="sxs-lookup"><span data-stu-id="95144-150">The WPR tool will indicate that your trace information was saved successfully:</span></span>

![Начало записи производительности Windows](./media/wprui-savecomplete.png)


## <span data-ttu-id="95144-152">Анализ трассировки</span><span class="sxs-lookup"><span data-stu-id="95144-152">Analyzing a trace</span></span>
<span data-ttu-id="95144-153">Теперь, когда вы собрали данные о производительности, вы можете проанализировать трассировку с помощью анализатора производительности Windows, чтобы узнать, какие оптимизации можно выполнить.</span><span class="sxs-lookup"><span data-stu-id="95144-153">Now that you've gathered your performance data, you can analyze the trace using Windows Performance Analyzer to see what optimizations can be made.</span></span>
<span data-ttu-id="95144-154">Ниже показано, как проанализировать данные о производительности веб-сценария.</span><span class="sxs-lookup"><span data-stu-id="95144-154">Here's how to analyze your web scenario performance data.</span></span>

### <span data-ttu-id="95144-155">1. Запустите анализатор производительности Windows (WPA).</span><span class="sxs-lookup"><span data-stu-id="95144-155">1. Open Windows Performance Analyzer (WPA)</span></span>
<span data-ttu-id="95144-156">Запустите анализатор быстродействия Windows и откройте `.etl` файл, который нужно проанализировать (открыть**файл**  >  **...**).</span><span class="sxs-lookup"><span data-stu-id="95144-156">Launch Windows Performance Analyzer and open the `.etl` file to be analyzed (**File** > **Open...**).</span></span>

### <span data-ttu-id="95144-157">2. Загрузите символы и примените профиль для *анализа HTML* .</span><span class="sxs-lookup"><span data-stu-id="95144-157">2. Load symbols and apply the *HTML analysis* profile</span></span>

>[!WARNING]
> <span data-ttu-id="95144-158">Для первой загрузки символов потребуется большое количество загрузок и это займет много времени на обычном подключении к Интернету.</span><span class="sxs-lookup"><span data-stu-id="95144-158">Loading symbols for the first time will require a large download and will take a significant amount of time on a typical internet connection.</span></span>

<span data-ttu-id="95144-159">Загрузите символы, выбрав в меню пункт " **Трассировка**  >  **символов загрузки** ".</span><span class="sxs-lookup"><span data-stu-id="95144-159">Load your symbols by selecting **Trace** > **Load Symbols** from the menu.</span></span> <span data-ttu-id="95144-160">Символы будут помещены в кэш диска, и последующие трассировки загружают символы гораздо быстрее.</span><span class="sxs-lookup"><span data-stu-id="95144-160">The symbols will be cached to disk and future traces will load symbols much faster.</span></span>

<span data-ttu-id="95144-161">Вы можете значительно быстрее загрузить символы, ограничивая загрузку в Microsoft EDGE и на узел веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="95144-161">You can load symbols significantly faster by restricting the loading to Microsoft Edge and the web apps host.</span></span> <span data-ttu-id="95144-162">Выберите команду **Трассировка**:  >  **Настройка символов** и запретите только **Параметры загрузки** `MicrosoftEdgeCP.exe` `WWAHost.exe` .</span><span class="sxs-lookup"><span data-stu-id="95144-162">Select **Trace** > **Configure Symbols** and restrict the **Load Settings** to only `MicrosoftEdgeCP.exe` and `WWAHost.exe`.</span></span>

![Ограничения на символы](./media/wpa-symbolrestrictions.png)

<span data-ttu-id="95144-164">После того как символы начнут загружаются, примените *профиль анализа HTML* (**Профили**  >  **применяются...**  >  ). **Просмотреть каталог...**  >  **HtmlResponsivenessAnalysis. wpaProfile**) профиль будет загружать несколько графиков и таблиц для анализа.</span><span class="sxs-lookup"><span data-stu-id="95144-164">After symbols begin loading, apply the *Html Analysis Profile* (**Profiles** > **Apply...** > **Browse Catalog...** > **HtmlResponsivenessAnalysis.wpaProfile**) The profile will load several graphs and tables for your analysis.</span></span> <span data-ttu-id="95144-165">Для расследования практических веб-сайтов рекомендуется начать с этого профиля.</span><span class="sxs-lookup"><span data-stu-id="95144-165">For nearly all website investigations, we recommend starting with this profile.</span></span>

![Крупный рисунок](./media/wpa-bigpicture.png)


#### <span data-ttu-id="95144-167">Профиль анализа отклика HTML</span><span class="sxs-lookup"><span data-stu-id="95144-167">The Html Responsiveness Analysis Profile</span></span>
<span data-ttu-id="95144-168">В профиле анализа *отклика на HTML* есть четыре вкладки:</span><span class="sxs-lookup"><span data-stu-id="95144-168">The *Html Responsiveness* analysis profile provides four tabs:</span></span>

<span data-ttu-id="95144-169">**Крупный рисунок** — это полезно для подтверждения того, что у вас нет неожиданных источников активности ЦП, и браузер действительно использует все доступные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="95144-169">**Big Picture** - This is useful for confirming that there are no unexpected sources of CPU activity and the browser is indeed using all available resources.</span></span> <span data-ttu-id="95144-170">Проверьте использование ЦП и убедитесь, что ни одна из процессов не сильно загружает использование ЦП, кроме браузера.</span><span class="sxs-lookup"><span data-stu-id="95144-170">Check your CPU usage and verify that no processes contribute significantly to CPU usage other than the browser.</span></span>

<span data-ttu-id="95144-171">**Анализ кадров** — этот раздел используется для базового анализа.</span><span class="sxs-lookup"><span data-stu-id="95144-171">**Frame Analysis** - This section is used for basic analysis.</span></span> <span data-ttu-id="95144-172">Граф *использования ЦП (с атрибутами)* позволяет быстро ознакомиться с подсистемами, ответственными за использование ЦП.</span><span class="sxs-lookup"><span data-stu-id="95144-172">The *CPU Usage (Attributed)* graph enables a quick glance for understanding of the subsystems responsible for CPU usage.</span></span> <span data-ttu-id="95144-173">Разбиение образцов в таблице " *использование ЦП" (пример)* в *потоке пользовательского интерфейса HTML* поможет вам выявить критические проблемы с производительностью.</span><span class="sxs-lookup"><span data-stu-id="95144-173">Breaking down the samples in the *CPU Usage (Sampled)* table on the *HTML UI Thread* is helpful for identifying critical performance bottlenecks.</span></span>

<span data-ttu-id="95144-174">**Маркеры трассировки** — этот раздел содержит все маркеры трассировки, поступающие из браузера (Microsoft EDGE), в том числе *msWriteProfilerMark*, который предоставляет точные моменты для измерения кода.</span><span class="sxs-lookup"><span data-stu-id="95144-174">**Trace Markers** - This section shows all tracing markers coming from the browser (Microsoft Edge), including *msWriteProfilerMark*, which provides precise points for measuring code.</span></span> <span data-ttu-id="95144-175">Чтобы просмотреть трассировку *msWriteProfilerMark* , прокрутите страницу вниз до графа *универсальных событий* и выберите **HTML-msWriteProfilerMark** из раскрывающегося меню.</span><span class="sxs-lookup"><span data-stu-id="95144-175">To see *msWriteProfilerMark* tracing, scroll down to the  *Generic Events* graph and select **HTML msWriteProfilerMark** from the drop-down menu.</span></span>

<span data-ttu-id="95144-176">**Анализ задержки потока** : Эта вкладка часто используется разработчиками Microsoft Edge для изучения того, что один поток заблокирован и ожидает другого.</span><span class="sxs-lookup"><span data-stu-id="95144-176">**Thread Delay Analysis** - This tab is often used by Microsoft Edge developers to investigate when one thread is blocked and waiting on another.</span></span> <span data-ttu-id="95144-177">В редких случаях это может быть полезно и для веб-разработчиков.</span><span class="sxs-lookup"><span data-stu-id="95144-177">On rare occasions it might also be useful to web developers.</span></span>


### <span data-ttu-id="95144-178">3. изменение масштаба для удаления очистки трассировки</span><span class="sxs-lookup"><span data-stu-id="95144-178">3. Zoom to remove trace rundown</span></span>
<span data-ttu-id="95144-179">Вы можете сосредоточиться на вашем анализе за счет удаления пустых конечных разделов *очистки трассировки* на диаграммах.</span><span class="sxs-lookup"><span data-stu-id="95144-179">You can focus your analysis by removing the empty trailing *Trace Rundown* sections of your graphs.</span></span> <span data-ttu-id="95144-180">На любом из показанных на данный момент диаграмм:</span><span class="sxs-lookup"><span data-stu-id="95144-180">From any of the graphs currently showing:</span></span>
 - <span data-ttu-id="95144-181">Щелчок левой кнопкой мыши в начале данных диаграммы, которую вы хотите исследовать</span><span class="sxs-lookup"><span data-stu-id="95144-181">Left-click at the start of the graph data you wish to investigate</span></span>
 - <span data-ttu-id="95144-182">Удержание, перетаскивание и выпуски для выделения нужной области</span><span class="sxs-lookup"><span data-stu-id="95144-182">Hold, drag and release to select the desired region</span></span>
 - <span data-ttu-id="95144-183">Щелкните правой кнопкой мыши и выберите команду " **масштаб** "</span><span class="sxs-lookup"><span data-stu-id="95144-183">Right-click and select **Zoom**</span></span>

<span data-ttu-id="95144-184">Масштабирование будет применено ко всем графикам и диаграммам на активной вкладке.</span><span class="sxs-lookup"><span data-stu-id="95144-184">The zoom will apply to all graphs and charts on the active tab.</span></span>

![Опубликовать масштаб](./media/wpa-postzoom.png)


### <span data-ttu-id="95144-186">4. Изучите, что займет циклы ЦП.</span><span class="sxs-lookup"><span data-stu-id="95144-186">4. Investigate what's taking up CPU cycles</span></span>
 <span data-ttu-id="95144-187">В таблице " **использование ЦП" (пример)** на вкладке " **Анализ кадров** ", скорее всего, будет возникать большая часть анализа.</span><span class="sxs-lookup"><span data-stu-id="95144-187">The **CPU Usage (Sampled)** table in the **Frame Analysis** tab is where most of your analysis will likely happen.</span></span> <span data-ttu-id="95144-188">Вы можете разворачивать различные процессы, чтобы определить наиболее ресурсоемкие сценарии JavaScript и кода браузера.</span><span class="sxs-lookup"><span data-stu-id="95144-188">You can expand the various processes to identify the most compute intensive JavaScript and browser code.</span></span> <span data-ttu-id="95144-189">Часто для устранения проблем с производительностью отвечает один и тот же набор JavaScript, а время его оптимизации может значительно отличаться.</span><span class="sxs-lookup"><span data-stu-id="95144-189">Often a single bit of JavaScript is responsible for a performance issue, and taking the time to optimize it can make a significant difference.</span></span>

### <span data-ttu-id="95144-190">5. прокрутка любого медленно работающего кода JavaScript</span><span class="sxs-lookup"><span data-stu-id="95144-190">5. Drill into any slow-running JavaScript code</span></span>
<span data-ttu-id="95144-191">Поэтапный анализ вызовов DOM может быть полезен для определения JavaScript, ответственен за выполнение большинства событий в сценарии.</span><span class="sxs-lookup"><span data-stu-id="95144-191">Bottom up DOM call analysis can be useful for identifying the JavaScript responsible for taking up the majority of time during the scenario.</span></span> <span data-ttu-id="95144-192">Это особенно полезно, когда многие вызовы верхнего уровня повторно используют одни и те же библиотеки JavaScript.</span><span class="sxs-lookup"><span data-stu-id="95144-192">This is especially helpful when many top level calls are re-using the same JavaScript libraries.</span></span>

<span data-ttu-id="95144-193">Начните с изучения *использования ЦП (Выборочная) с разбивкой по процессам, потокам, действиям, стопу*.</span><span class="sxs-lookup"><span data-stu-id="95144-193">Start by looking at *CPU Usage (Sampled) Breakdown by Process, Thread, Activity, Stack*.</span></span> <span data-ttu-id="95144-194">Щелкните любую ячейку в столбце " **стопка** ".</span><span class="sxs-lookup"><span data-stu-id="95144-194">Click on any cell in **Stack** column.</span></span> <span data-ttu-id="95144-195">Нажмите клавиши *CTRL + F* и выполните поиск по запросу *ExternalFunctionThunk*.</span><span class="sxs-lookup"><span data-stu-id="95144-195">Press *Ctrl+F* and search for *ExternalFunctionThunk*.</span></span>

>[!NOTE] 
><span data-ttu-id="95144-196">Это работает только в том случае, если вы успешно загрузили символы.</span><span class="sxs-lookup"><span data-stu-id="95144-196">This only works if you have successfully loaded symbols.</span></span>

![Поиск ExternalFunctionThunk](./media/wpa-externalfunctionthunk.png)

<span data-ttu-id="95144-198">Изучите все строки с помощью *ExternalFunctionThunk*.</span><span class="sxs-lookup"><span data-stu-id="95144-198">Investigate any lines with *ExternalFunctionThunk*.</span></span> <span data-ttu-id="95144-199">Это интерфейс из обработчика JavaScript Chakra в обработчик Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="95144-199">This is the interface from the Chakra JavaScript engine to the Microsoft Edge engine.</span></span> <span data-ttu-id="95144-200">В нем показано, где переводятся мосты кода из браузера в выполнение JavaScript.</span><span class="sxs-lookup"><span data-stu-id="95144-200">It shows where code bridges from the browser to JavaScript execution.</span></span> <span data-ttu-id="95144-201">Щелкните строку правой кнопкой мыши и выберите команду **Просмотреть Callees**  >  **по модулю,** чтобы увидеть взвешенный список со всеми наиболее продолжительными функциями обработчиков браузера.</span><span class="sxs-lookup"><span data-stu-id="95144-201">Right-click on the line and select **View Callees** > **By Module** to see a weighted list of longest running browser engine functions.</span></span>

![Просмотреть Callees](./media/wpa-viewcallees.png)

<span data-ttu-id="95144-203">Чтобы определить весь JavaScript, вызывающий определенный API-интерфейс, щелкните его правой кнопкой мыши и выберите команду **Просмотреть вызывающие объекты**  >  **по функциям** , а затем разверните дерево для просмотра и сравнения относительных весов.</span><span class="sxs-lookup"><span data-stu-id="95144-203">To identify all the JavaScript calling a specific API, right-click on it and select **View Callers** > **By Function** and expand the tree to view and compare the relative weights.</span></span>
