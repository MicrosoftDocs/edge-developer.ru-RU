---
description: Используйте средства разработчика F12 для анализа общей производительности веб-сайтов.
title: Анализ производительности
author: MSEdgeTeam
ms.author: msedgedevrel
ms.topic: article
ms.prod: microsoft-edge
ms.assetid: 7a5f9fd0-90a9-43db-b271-178c06da5896
keywords: edge, веб-разработка, html, css, javascript, разработчик
ms.date: 12/15/2020
ROBOTS: NOINDEX,NOFOLLOW
ms.openlocfilehash: e585d07ebae547319c16b6eea579ad26ffb84ce3
ms.sourcegitcommit: a35a6b5bbc21b7df61d08cbc6b074b5325ad4fef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/17/2020
ms.locfileid: "11235614"
---
# <span data-ttu-id="56f06-104">Анализ производительности</span><span class="sxs-lookup"><span data-stu-id="56f06-104">Performance Analysis</span></span>  

<span data-ttu-id="56f06-105">Если вы не знаете о производительности, ознакомьтесь с руководством [F12 DevTools.](../devtools-guide/index.md)</span><span class="sxs-lookup"><span data-stu-id="56f06-105">If you're new to performance, you should check out the [F12 DevTools guide](../devtools-guide/index.md).</span></span>
<span data-ttu-id="56f06-106">Средства [F12, встроенные](../devtools-guide/index.md) в Microsoft Edge, можно использовать для анализа общей производительности веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="56f06-106">The [F12 tools](../devtools-guide/index.md) built into Microsoft Edge can be used to analyze the general performance of a web site.</span></span>  <span data-ttu-id="56f06-107">Он предоставляет аналогичные (но более ограниченные) возможности производительности [Windows набор средств](/windows-hardware/test/wpt/index) прямо в браузере.</span><span class="sxs-lookup"><span data-stu-id="56f06-107">It provides similar (but more limited) capabilities to the [Windows Performance Toolkit](/windows-hardware/test/wpt/index) from right within the browser.</span></span>  

<span data-ttu-id="56f06-108">Если вы хотите провести более глубокий анализ производительности браузера, команда Microsoft Edge использует windows [Performance набор средств](/windows-hardware/test/wpt/index) (WPT).</span><span class="sxs-lookup"><span data-stu-id="56f06-108">If you want a deeper analysis of browser performance, the Microsoft Edge team uses the [Windows Performance Toolkit](/windows-hardware/test/wpt/index) (WPT).</span></span>  <span data-ttu-id="56f06-109">WPT был создан командой Windows для проведения подробного анализа производительности программы.</span><span class="sxs-lookup"><span data-stu-id="56f06-109">WPT was created by the Windows team to conduct in-depth program performance analysis.</span></span>  <span data-ttu-id="56f06-110">Он перестраивал границы между JavaScript веб-сайта и исходным кодом Microsoft Edge, позволяя просматривать оба этих кода в одном средстве.</span><span class="sxs-lookup"><span data-stu-id="56f06-110">It straddles the boundaries between website JavaScript and Microsoft Edge native code, allowing both to be viewed within the same tool.</span></span>  <span data-ttu-id="56f06-111">WPT можно использовать для:</span><span class="sxs-lookup"><span data-stu-id="56f06-111">WPT can be used to:</span></span>  

*   <span data-ttu-id="56f06-112">Измерение времени ЦП, необходимого программному обеспечению для завершения работы</span><span class="sxs-lookup"><span data-stu-id="56f06-112">Measure CPU time taken for software to complete work</span></span>  
*   <span data-ttu-id="56f06-113">Расчет памяти, выделенной программным обеспечением</span><span class="sxs-lookup"><span data-stu-id="56f06-113">Calculate the memory allocated by software</span></span>  
*   <span data-ttu-id="56f06-114">Показать сведения о загрузке файлов с удаленных серверов</span><span class="sxs-lookup"><span data-stu-id="56f06-114">Show the details of downloading files from remote servers</span></span>  
*   <span data-ttu-id="56f06-115">Измерение частоты кадров.</span><span class="sxs-lookup"><span data-stu-id="56f06-115">Measure frame rate.</span></span>  

<span data-ttu-id="56f06-116">Чтобы начать использовать windows Performance набор средств для анализа веб-сайта, сначала необходимо скачать комплект для развертывания и оценки [Windows 10 (ADK).](https://developer.microsoft.com/windows/hardware/windows-assessment-deployment-kit)</span><span class="sxs-lookup"><span data-stu-id="56f06-116">To get started with using the Windows Performance Toolkit to analyze your website, you'll first need to download the [Windows 10 Assessment and Deployment Kit (ADK)](https://developer.microsoft.com/windows/hardware/windows-assessment-deployment-kit).</span></span>  <span data-ttu-id="56f06-117">Выберите параметр *производительности Windows набор средств* во время установки:</span><span class="sxs-lookup"><span data-stu-id="56f06-117">Select the *Windows Performance Toolkit* option during installation:</span></span>  

![Параметры установки ADK](./media/adk-installoptions.png)  

<span data-ttu-id="56f06-119">Здесь мы описам, как записывать и анализировать трассировка производительности.</span><span class="sxs-lookup"><span data-stu-id="56f06-119">Here we'll cover how to record and analyze a performance trace.</span></span>  
<span data-ttu-id="56f06-120">Чтобы узнать больше о том, что включено в windows Performance набор средств, ознакомьтесь с полной документацией [по WPT.](/windows-hardware/test/wpt/index)</span><span class="sxs-lookup"><span data-stu-id="56f06-120">To learn more about what's included in the Windows Performance Toolkit, check out the full [WPT documentation](/windows-hardware/test/wpt/index).</span></span>  

## <span data-ttu-id="56f06-121">Запись трассировки</span><span class="sxs-lookup"><span data-stu-id="56f06-121">Recording a trace</span></span>  

<span data-ttu-id="56f06-122">Затем настроите сценарий пользователя и подготовьтесь к сбору трассировки с помощью записи производительности Windows.</span><span class="sxs-lookup"><span data-stu-id="56f06-122">Next, set up your user scenario and prepare to gather a trace using Windows Performance Recorder.</span></span>  
<span data-ttu-id="56f06-123">Вот как профилировать веб-сценарий с помощью *записи производительности Windows (WPR).*</span><span class="sxs-lookup"><span data-stu-id="56f06-123">Here's how to profile your web scenario with the *Windows Performance Recorder (WPR)*.</span></span>  

### <span data-ttu-id="56f06-124">1. Подготовка среды к сбору трассировки производительности</span><span class="sxs-lookup"><span data-stu-id="56f06-124">1.  Prepare your environment to gather a performance trace</span></span>  

<span data-ttu-id="56f06-125">Выключив как можно больше запущенных программ, чтобы избежать шума в трассирове, которую вы хотите записать.</span><span class="sxs-lookup"><span data-stu-id="56f06-125">Shut down as many running programs as possible to avoid noise in the trace that you're about to record.</span></span>  <span data-ttu-id="56f06-126">В идеале единственным работающим программным обеспечением будет Windows Performance Recorder (WPR) и браузер.</span><span class="sxs-lookup"><span data-stu-id="56f06-126">Ideally, the only running software will be Windows Performance Recorder (WPR) and the browser.</span></span>  

### <span data-ttu-id="56f06-127">2. Запустите windows Performance Recorder (WPR) и выберите параметры</span><span class="sxs-lookup"><span data-stu-id="56f06-127">2.  Launch Windows Performance Recorder (WPR) and select options</span></span>  

<span data-ttu-id="56f06-128">Запустите windows Performance Recorder \*\*\*\* и убедитесь, что расширен параметр "Дополнительные параметры".</span><span class="sxs-lookup"><span data-stu-id="56f06-128">Launch the Windows Performance Recorder and ensure that **More options** toggle is expanded.</span></span>  <span data-ttu-id="56f06-129">Выберите *"Браузер Edge"* и *"Сценарий отклика HTML".*</span><span class="sxs-lookup"><span data-stu-id="56f06-129">Select the *Edge Browser* and *HTML Responsiveness* scenario analysis checkboxes.</span></span>  

![Параметры записей о производительности Windows](./media/wprui-options.png)  

#### <span data-ttu-id="56f06-131">Советы и рекомендации по сбору трассировок</span><span class="sxs-lookup"><span data-stu-id="56f06-131">Tips and tricks for gathering traces</span></span>  

*   <span data-ttu-id="56f06-132">Старайтесь сохранить фоновую активность до абсолютного обязательного минимума.</span><span class="sxs-lookup"><span data-stu-id="56f06-132">Try to keep background activity to an absolute required minimum.</span></span>  <span data-ttu-id="56f06-133">Фоновые процессы могут подавлять воспринимаемую производительность и фактические характеристики производительности, а также влиять на результаты.</span><span class="sxs-lookup"><span data-stu-id="56f06-133">Background processes may skew both perceived performance and actual performance characteristics and affect the results.</span></span>  <span data-ttu-id="56f06-134">В идеале нет других запущенных приложений рядом с браузером и WPR.</span><span class="sxs-lookup"><span data-stu-id="56f06-134">Ideally there are no other running applications beside browser and WPR.</span></span>  
*   <span data-ttu-id="56f06-135">Определите сценарии, которые вы анализируете, и постарайтесь сохранить их как можно более атомарными.</span><span class="sxs-lookup"><span data-stu-id="56f06-135">Identify the scenarios you're analyzing and try to keep them as atomic as possible.</span></span>  <span data-ttu-id="56f06-136">Например, если у сайта возникают проблемы с производительностью при загрузке страницы, прокрутке и выборе чего-либо в таблице, разделите эти проблемы на три сценария:</span><span class="sxs-lookup"><span data-stu-id="56f06-136">For example, if your site has performance problems when loading the page, scrolling, and selecting something in a table, separate the issues into three scenarios:</span></span>  
    *   <span data-ttu-id="56f06-137">Загрузка страницы (от начала навигации до завершения загрузки страницы)</span><span class="sxs-lookup"><span data-stu-id="56f06-137">Page load (from start of navigation to page load complete)</span></span>  
    *   <span data-ttu-id="56f06-138">Scroll</span><span class="sxs-lookup"><span data-stu-id="56f06-138">Scroll</span></span>  
    *   <span data-ttu-id="56f06-139">Выбор чего-либо в таблице</span><span class="sxs-lookup"><span data-stu-id="56f06-139">Selecting something in the table</span></span>  
*   <span data-ttu-id="56f06-140">Если сценарий включает переход к сайту, рассмотрите возможность его начала с примерного:пустого.</span><span class="sxs-lookup"><span data-stu-id="56f06-140">If a scenario involves navigating to a site, consider beginning the scenario at about:blank.</span></span>  <span data-ttu-id="56f06-141">Начиная с about:blank, это позволит избежать накладных расходов на предыдущую страницу.</span><span class="sxs-lookup"><span data-stu-id="56f06-141">Starting at about:blank will avoid the overhead of the previous page.</span></span>  <span data-ttu-id="56f06-142">Если он подразумевает переход с сайта, перейдите к объекту about:blank, чтобы завершить сценарий.</span><span class="sxs-lookup"><span data-stu-id="56f06-142">If it involves navigating away from a site, navigate to about:blank to complete the scenario.</span></span>  <span data-ttu-id="56f06-143">Это позволит скрыть шум других сайтов от трассировки, если конкретное взаимодействие между сайтами не является проблемой, которая находится в стадии исследования.</span><span class="sxs-lookup"><span data-stu-id="56f06-143">This will keep the noise of other sites out of the trace unless the specific interaction between sites is the issue under investigation.</span></span>  

### <span data-ttu-id="56f06-144">3. Зафиксировать сценарий</span><span class="sxs-lookup"><span data-stu-id="56f06-144">3.  Record the scenario</span></span>  

<span data-ttu-id="56f06-145">Нажмите **кнопку "Начните",** чтобы начать запись.</span><span class="sxs-lookup"><span data-stu-id="56f06-145">Click **Start** to begin recording.</span></span>  <span data-ttu-id="56f06-146">Средство сообщает размер буфера, который используется для прогнозирования размера сгенерируемого файла.</span><span class="sxs-lookup"><span data-stu-id="56f06-146">The tool will report the size of the buffer it is using to help you anticipate the size of the generated file.</span></span>  <span data-ttu-id="56f06-147">Выполните пользовательский сценарий, который \*\*\*\* необходимо измерить, а затем нажмите кнопку "Сохранить", чтобы остановить запись и сохранить трассировка.</span><span class="sxs-lookup"><span data-stu-id="56f06-147">Perform the user scenario you want to measure, then click **Save** to stop the recording and save the trace.</span></span>  <span data-ttu-id="56f06-148">Сохранение сразу после завершения сценария поможет свести к минимуму размер файла трассировки.</span><span class="sxs-lookup"><span data-stu-id="56f06-148">Saving immediately after finishing your scenario will help minimize the size of the trace file.</span></span>  

![Начало записи производительности Windows — запись](./media/wprui-recording.png)  

<span data-ttu-id="56f06-150">Средство WPR указывает, что данные трассировки успешно сохранены:</span><span class="sxs-lookup"><span data-stu-id="56f06-150">The WPR tool will indicate that your trace information was saved successfully:</span></span>  

![Начало записи производительности Windows — сохранение завершено](./media/wprui-savecomplete.png)  

## <span data-ttu-id="56f06-152">Анализ трассировки</span><span class="sxs-lookup"><span data-stu-id="56f06-152">Analyzing a trace</span></span>  

<span data-ttu-id="56f06-153">Теперь, когда вы собрали данные о производительности, вы можете проанализировать трассировщик с помощью анализатора производительности Windows, чтобы узнать, какие оптимизации можно провести.</span><span class="sxs-lookup"><span data-stu-id="56f06-153">Now that you've gathered your performance data, you can analyze the trace using Windows Performance Analyzer to see what optimizations can be made.</span></span>  
<span data-ttu-id="56f06-154">Вот как анализировать данные о производительности веб-сценария.</span><span class="sxs-lookup"><span data-stu-id="56f06-154">Here's how to analyze your web scenario performance data.</span></span>  

### <span data-ttu-id="56f06-155">1. Откройте Windows Performance Analyzer (WPA)</span><span class="sxs-lookup"><span data-stu-id="56f06-155">1.  Open Windows Performance Analyzer (WPA)</span></span>  

<span data-ttu-id="56f06-156">Запустите анализатор производительности Windows и откройте файл для `.etl` анализа (**открытие**  >  **файла...**).</span><span class="sxs-lookup"><span data-stu-id="56f06-156">Launch Windows Performance Analyzer and open the `.etl` file to be analyzed (**File** > **Open...**).</span></span>  

### <span data-ttu-id="56f06-157">2. Загрузка символов и применение *профиля анализа HTML*</span><span class="sxs-lookup"><span data-stu-id="56f06-157">2.  Load symbols and apply the *HTML analysis* profile</span></span>  

> [!WARNING]
> <span data-ttu-id="56f06-158">Загрузка символов в первый раз потребует большой загрузки и займет значительное количество времени при обычном под подключением к Интернету.</span><span class="sxs-lookup"><span data-stu-id="56f06-158">Loading symbols for the first time will require a large download and will take a significant amount of time on a typical internet connection.</span></span>  

<span data-ttu-id="56f06-159">Загрузите символы, \*\*\*\* выбрав в меню  >  **символы нагрузки** трассировки.</span><span class="sxs-lookup"><span data-stu-id="56f06-159">Load your symbols by selecting **Trace** > **Load Symbols** from the menu.</span></span>  <span data-ttu-id="56f06-160">Символы будут кэшться на диске, а последующие трассировки будут загружать символы гораздо быстрее.</span><span class="sxs-lookup"><span data-stu-id="56f06-160">The symbols will be cached to disk and future traces will load symbols much faster.</span></span>  

<span data-ttu-id="56f06-161">Вы можете загружать символы значительно быстрее, ограничивая загрузку Microsoft Edge и ведущим приложением веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="56f06-161">You can load symbols significantly faster by restricting the loading to Microsoft Edge and the web apps host.</span></span>  <span data-ttu-id="56f06-162">Выберите \*\*\*\*  >  **"Настроить символы трассировки"** и ограничив параметры загрузки только и \*\*\*\* `MicrosoftEdgeCP.exe` `WWAHost.exe` .</span><span class="sxs-lookup"><span data-stu-id="56f06-162">Select **Trace** > **Configure Symbols** and restrict the **Load Settings** to only `MicrosoftEdgeCP.exe` and `WWAHost.exe`.</span></span>  

![Ограничения символов](./media/wpa-symbolrestrictions.png)  

<span data-ttu-id="56f06-164">После начала загрузки символов примените *html-профиль анализа* **(применяются**  >  **профили...**  >  **Обзор каталога...**  >  **HtmlResponsivenessAnalysis.wpaProfile**)</span><span class="sxs-lookup"><span data-stu-id="56f06-164">After symbols begin loading, apply the *Html Analysis Profile* (**Profiles** > **Apply...** > **Browse Catalog...** > **HtmlResponsivenessAnalysis.wpaProfile**)</span></span>  
<span data-ttu-id="56f06-165">Профиль загрузит несколько графиков и таблиц для анализа.</span><span class="sxs-lookup"><span data-stu-id="56f06-165">The profile will load several graphs and tables for your analysis.</span></span>  <span data-ttu-id="56f06-166">Для практически всех исследований веб-сайтов рекомендуется начать с этого профиля.</span><span class="sxs-lookup"><span data-stu-id="56f06-166">For nearly all website investigations, we recommend starting with this profile.</span></span>  

![Большая картинка](./media/wpa-bigpicture.png)  

#### <span data-ttu-id="56f06-168">Профиль анализа отклика html</span><span class="sxs-lookup"><span data-stu-id="56f06-168">The Html Responsiveness Analysis Profile</span></span>  

<span data-ttu-id="56f06-169">Профиль *анализа отклика html* предоставляет четыре вкладки:</span><span class="sxs-lookup"><span data-stu-id="56f06-169">The *Html Responsiveness* analysis profile provides four tabs:</span></span>  

<span data-ttu-id="56f06-170">**"Большая картинка"** — это полезно для подтверждения того, что непредвиденных источников активности ЦП нет, и браузер действительно использует все доступные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="56f06-170">**Big Picture** - This is useful for confirming that there are no unexpected sources of CPU activity and the browser is indeed using all available resources.</span></span>  <span data-ttu-id="56f06-171">Проверьте использование ЦП и убедитесь, что никакие процессы не вносят значительного вклада в использование ЦП, кроме браузера.</span><span class="sxs-lookup"><span data-stu-id="56f06-171">Check your CPU usage and verify that no processes contribute significantly to CPU usage other than the browser.</span></span>  

<span data-ttu-id="56f06-172">**Анализ кадров—** этот раздел используется для базового анализа.</span><span class="sxs-lookup"><span data-stu-id="56f06-172">**Frame Analysis** - This section is used for basic analysis.</span></span>  <span data-ttu-id="56f06-173">График *использования ЦП (присвоенный)* позволяет быстро понять подсистемы, отвечающие за использование ЦП.</span><span class="sxs-lookup"><span data-stu-id="56f06-173">The *CPU Usage (Attributed)* graph enables a quick glance for understanding of the subsystems responsible for CPU usage.</span></span>  <span data-ttu-id="56f06-174">Разбитие примеров в таблице использования ЦП *(sampled)* в *потоке пользовательского* интерфейса HTML полезно для определения критических узких места производительности.</span><span class="sxs-lookup"><span data-stu-id="56f06-174">Breaking down the samples in the *CPU Usage (Sampled)* table on the *HTML UI Thread* is helpful for identifying critical performance bottlenecks.</span></span>  

<span data-ttu-id="56f06-175">**Маркеры** трассировки — в этом разделе показаны все маркеры трассировки, которые приходят из браузера (Microsoft Edge), включая *msWriteProfilerMark,* которые предоставляют точные точки для измерения кода.</span><span class="sxs-lookup"><span data-stu-id="56f06-175">**Trace Markers** - This section shows all tracing markers coming from the browser (Microsoft Edge), including *msWriteProfilerMark*, which provides precise points for measuring code.</span></span>  <span data-ttu-id="56f06-176">Чтобы *просмотреть трассировку msWriteProfilerMark,* прокрутите вниз до графика  *"Универсальные* события" и выберите **HTML msWriteProfilerMark** в выпадаемом меню.</span><span class="sxs-lookup"><span data-stu-id="56f06-176">To see *msWriteProfilerMark* tracing, scroll down to the  *Generic Events* graph and select **HTML msWriteProfilerMark** from the drop-down menu.</span></span>  

<span data-ttu-id="56f06-177">**Анализ задержки потока** — эта вкладка часто используется разработчиками Microsoft Edge для изучения того, когда один поток блокируется и ожидает другого.</span><span class="sxs-lookup"><span data-stu-id="56f06-177">**Thread Delay Analysis** - This tab is often used by Microsoft Edge developers to investigate when one thread is blocked and waiting on another.</span></span>  <span data-ttu-id="56f06-178">В редких случаях это также может быть полезно для веб-разработчиков.</span><span class="sxs-lookup"><span data-stu-id="56f06-178">On rare occasions it might also be useful to web developers.</span></span>  

### <span data-ttu-id="56f06-179">3. Масштабирование для удаления запуска трассировки</span><span class="sxs-lookup"><span data-stu-id="56f06-179">3.  Zoom to remove trace rundown</span></span>  

<span data-ttu-id="56f06-180">Вы можете сосредоточиться на анализе, удалив пустые разделы *rundown* трассировки в конце графиков.</span><span class="sxs-lookup"><span data-stu-id="56f06-180">You can focus your analysis by removing the empty trailing *Trace Rundown* sections of your graphs.</span></span>  <span data-ttu-id="56f06-181">На любом из графиков, на которых в настоящее время отображаются:</span><span class="sxs-lookup"><span data-stu-id="56f06-181">From any of the graphs currently showing:</span></span>  
*   <span data-ttu-id="56f06-182">Щелкните левой кнопкой мыши в начале данных графа, которые вы хотите изучить</span><span class="sxs-lookup"><span data-stu-id="56f06-182">Left-click at the start of the graph data you wish to investigate</span></span>  
*   <span data-ttu-id="56f06-183">Удержание, перетаскивания и освобождение для выбора нужной области</span><span class="sxs-lookup"><span data-stu-id="56f06-183">Hold, drag and release to select the desired region</span></span>  
*   <span data-ttu-id="56f06-184">Щелкните правой кнопкой мыши и выберите **"Масштаб"**</span><span class="sxs-lookup"><span data-stu-id="56f06-184">Right-click and select **Zoom**</span></span>  

<span data-ttu-id="56f06-185">Масштаб будет применяться к всем графикам и диаграммам на активной вкладке.</span><span class="sxs-lookup"><span data-stu-id="56f06-185">The zoom will apply to all graphs and charts on the active tab.</span></span>  

![После масштабирования](./media/wpa-postzoom.png)  

### <span data-ttu-id="56f06-187">4. Изучение циклов ЦП</span><span class="sxs-lookup"><span data-stu-id="56f06-187">4.  Investigate what's taking up CPU cycles</span></span>  

 <span data-ttu-id="56f06-188">В **таблице "Использование ЦП (примеры) на** вкладке **"Анализ** кадров" большая часть анализа, скорее всего, будет происходить.</span><span class="sxs-lookup"><span data-stu-id="56f06-188">The **CPU Usage (Sampled)** table in the **Frame Analysis** tab is where most of your analysis will likely happen.</span></span>  <span data-ttu-id="56f06-189">Вы можете развернуть различные процессы, чтобы определить наиболее сложный код JavaScript и браузера.</span><span class="sxs-lookup"><span data-stu-id="56f06-189">You can expand the various processes to identify the most compute intensive JavaScript and browser code.</span></span>  <span data-ttu-id="56f06-190">Часто за проблему производительности отвечает один бит JavaScript, и оптимизация может существенно изменить его производительность.</span><span class="sxs-lookup"><span data-stu-id="56f06-190">Often a single bit of JavaScript is responsible for a performance issue, and taking the time to optimize it can make a significant difference.</span></span>  

### <span data-ttu-id="56f06-191">5. Проявить любой медленно работающий код JavaScript</span><span class="sxs-lookup"><span data-stu-id="56f06-191">5.  Drill into any slow-running JavaScript code</span></span>  

<span data-ttu-id="56f06-192">Анализ вызовов DOM снизу вверх может быть полезен для определения JavaScript, который отвечает за большую часть времени в сценарии.</span><span class="sxs-lookup"><span data-stu-id="56f06-192">Bottom up DOM call analysis can be useful for identifying the JavaScript responsible for taking up the majority of time during the scenario.</span></span>  <span data-ttu-id="56f06-193">Это особенно полезно, если многие вызовы верхнего уровня повторно используют те же библиотеки JavaScript.</span><span class="sxs-lookup"><span data-stu-id="56f06-193">This is especially helpful when many top level calls are re-using the same JavaScript libraries.</span></span>  

<span data-ttu-id="56f06-194">Начните с анализа данных об использовании *ЦП (sampled) по процессу, потоку, действию, стеку.*</span><span class="sxs-lookup"><span data-stu-id="56f06-194">Start by looking at *CPU Usage (Sampled) Breakdown by Process, Thread, Activity, Stack*.</span></span>  <span data-ttu-id="56f06-195">Щелкните любую ячейку в **столбце Stack.**</span><span class="sxs-lookup"><span data-stu-id="56f06-195">Click on any cell in **Stack** column.</span></span>  <span data-ttu-id="56f06-196">Нажмите *CTRL+F* и нащите *externalFunctionThunk.*</span><span class="sxs-lookup"><span data-stu-id="56f06-196">Press *Ctrl+F* and search for *ExternalFunctionThunk*.</span></span>  

> [!NOTE] 
> <span data-ttu-id="56f06-197">Это работает, только если вы успешно загрузили символы.</span><span class="sxs-lookup"><span data-stu-id="56f06-197">This only works if you have successfully loaded symbols.</span></span>  

![Поиск externalFunctionThunk](./media/wpa-externalfunctionthunk.png)  

<span data-ttu-id="56f06-199">Изучите все строки *с помощью ExternalFunctionThunk.*</span><span class="sxs-lookup"><span data-stu-id="56f06-199">Investigate any lines with *ExternalFunctionThunk*.</span></span>  <span data-ttu-id="56f06-200">Это интерфейс от ядра JavaScript для Chakra до ядра Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="56f06-200">This is the interface from the Chakra JavaScript engine to the Microsoft Edge engine.</span></span>  <span data-ttu-id="56f06-201">Здесь показано, где код мостит из браузера в выполнение JavaScript.</span><span class="sxs-lookup"><span data-stu-id="56f06-201">It shows where code bridges from the browser to JavaScript execution.</span></span>  <span data-ttu-id="56f06-202">Щелкните строку правой кнопкой мыши и выберите "Просмотреть вызываемую **по**модуле", чтобы просмотреть взвешовый список самых длинных функций  >  \*\*\*\* браузерного модуля.</span><span class="sxs-lookup"><span data-stu-id="56f06-202">Right-click on the line and select **View Callees** > **By Module** to see a weighted list of longest running browser engine functions.</span></span>  

![Просмотр вызываемой точки](./media/wpa-viewcallees.png)  

<span data-ttu-id="56f06-204">Чтобы определить все javaScript, вызыватели определенного API, щелкните его правой кнопкой мыши и выберите "Просмотр вызывателей по \*\*\*\* функции" и разверните дерево, чтобы просмотреть и сравнить  >  \*\*\*\* относительные веса.</span><span class="sxs-lookup"><span data-stu-id="56f06-204">To identify all the JavaScript calling a specific API, right-click on it and select **View Callers** > **By Function** and expand the tree to view and compare the relative weights.</span></span>  
