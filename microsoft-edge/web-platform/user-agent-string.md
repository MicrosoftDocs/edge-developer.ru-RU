---
description: На этой странице представлена документация по строке агента пользователя Microsoft Edge.
title: Строка агента пользователя Microsoft Edge
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 12/16/2019
ms.topic: article
ms.prod: microsoft-edge
keywords: Microsoft EDGE, совместимость, веб-платформа, строка агента пользователя, строка "UA", переопределение (UA)
ms.openlocfilehash: 73401219b7708a739292a46b6131fe40765e9c8c
ms.sourcegitcommit: 6860234c25a8be863b7f29a54838e78e120dbb62
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2020
ms.locfileid: "10572867"
---
# <span data-ttu-id="c8218-104">Строка агента пользователя Microsoft EDGE (классическое приложение)</span><span class="sxs-lookup"><span data-stu-id="c8218-104">Microsoft Edge User Agent String (Desktop)</span></span>  

<span data-ttu-id="c8218-105">Строку агента пользователя \ (UA \) можно использовать для определения версии определенного браузера, используемой в определенной операционной системе.</span><span class="sxs-lookup"><span data-stu-id="c8218-105">A user agent \(UA\) string is able to be used to detect what version of a specific browser is being used on a certain operating system.</span></span>  <span data-ttu-id="c8218-106">Как и другие браузеры, Microsoft Edge включает эти сведения в `User-Agent` заголовок HTTP при запросе к сайту.</span><span class="sxs-lookup"><span data-stu-id="c8218-106">Like other browsers, Microsoft Edge includes this information in the `User-Agent` HTTP header whenever it makes a request to a site.</span></span>  <span data-ttu-id="c8218-107">Кроме того, доступ к нему можно получить с помощью JavaScript, заполнив запрос значения `navigator.userAgent` .</span><span class="sxs-lookup"><span data-stu-id="c8218-107">It may also be accessed via JavaScript by querying the value of `navigator.userAgent`.</span></span>  

<span data-ttu-id="c8218-108">Корпорация Майкрософт рекомендует, чтобы веб-разработчики использовали [Обнаружение компонентов](https://developer.mozilla.org/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection) , когда это возможно, для улучшения поддержки кода, сокращения кода fragility и устранения риска нарушения кода в случае будущих обновлений строк в ходе работы с агентом.</span><span class="sxs-lookup"><span data-stu-id="c8218-108">Microsoft recommends that web developers make use of [feature detection](https://developer.mozilla.org/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection) whenever possible to improve code maintainability, reduce code fragility, and eliminate the risk of code breakage in the event of future UA string updates.</span></span>  

<span data-ttu-id="c8218-109">Для случаев, когда обнаружение функций неприменимо и необходимо использовать обнаружение пользователей, формат Microsoft Edge UA на компьютере может выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="c8218-109">For cases where feature detection is not applicable and UA detection must be used, the format of the Microsoft Edge UA on desktop is as follows:</span></span>

<span data-ttu-id="c8218-110">`User-Agent`Заголовок запроса имеет следующий формат:</span><span class="sxs-lookup"><span data-stu-id="c8218-110">The `User-Agent` request header is in the following format:</span></span>

```http
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.74 Safari/537.36 Edg/79.0.309.43
``` 

<span data-ttu-id="c8218-111">Возвращаемое значение `navigator.userAgent` в следующем формате:</span><span class="sxs-lookup"><span data-stu-id="c8218-111">The return value from `navigator.userAgent` is in the following format:</span></span>

```javascript
"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.74 Safari/537.36 Edg/79.0.309.43"
```  

<span data-ttu-id="c8218-112">Идентификаторы платформы изменяются в зависимости от используемой операционной системы, а номера версий также изменяются по мере прохождения времени.</span><span class="sxs-lookup"><span data-stu-id="c8218-112">Platform identifiers change based on the operating system being used, and version numbers also increment as time passes.</span></span>  <span data-ttu-id="c8218-113">Этот формат такой же, как и Chromium UA, с добавлением нового `Edg` маркера в конце.</span><span class="sxs-lookup"><span data-stu-id="c8218-113">This format is the same as the Chromium UA with the addition of a new `Edg` token at the end.</span></span>  <span data-ttu-id="c8218-114">Корпорация Майкрософт выбрала `Edg` маркер, чтобы избежать проблем с совместимостью, которые могут возникать при использовании строки `Edge` , которая используется в версии Microsoft EDGE на основе EdgeHTML.</span><span class="sxs-lookup"><span data-stu-id="c8218-114">Microsoft selected the `Edg` token to avoid compatibility issues that may be caused by using the string `Edge`, which is used by the version of Microsoft Edge based on EdgeHTML.</span></span>  <span data-ttu-id="c8218-115">`Edg`Маркер также согласовывается с [существующими](https://blogs.windows.com/msedgedev/2017/10/05/microsoft-edge-ios-android-developer/) маркерами, используемыми в iOS и Android.</span><span class="sxs-lookup"><span data-stu-id="c8218-115">The `Edg` token is also consistent with [existing tokens](https://blogs.windows.com/msedgedev/2017/10/05/microsoft-edge-ios-android-developer/) used on iOS and Android.</span></span>

## <span data-ttu-id="c8218-116">Сопоставление строки UA с именем браузера</span><span class="sxs-lookup"><span data-stu-id="c8218-116">Mapping UA String to Browser Name</span></span>
<span data-ttu-id="c8218-117">Сопоставление маркеров строки UA с более удобным для чтения именем браузера для использования в коде — это распространенный шаблон в Интернете уже сегодня.</span><span class="sxs-lookup"><span data-stu-id="c8218-117">Mapping UA string tokens to a more human-readable browser name for use in code is a common pattern on the web today.</span></span> <span data-ttu-id="c8218-118">При сопоставлении нового `Edg` маркера с именем браузера Корпорация Майкрософт рекомендует использовать другое имя, отличное от того, что используется в устаревшей версии Microsoft EDGE, чтобы избежать случайного применения устаревших решений, неприменимых для браузеров на базе Chromium.</span><span class="sxs-lookup"><span data-stu-id="c8218-118">When mapping the new `Edg` token to a browser name, Microsoft recommends using a different name than the one developers used for the legacy version of Microsoft Edge to avoid accidentally applying any legacy workarounds that are not applicable to Chromium-based browsers.</span></span>

## <span data-ttu-id="c8218-119">Переопределение агента пользователя</span><span class="sxs-lookup"><span data-stu-id="c8218-119">User Agent Overrides</span></span>  

<span data-ttu-id="c8218-120">Иногда веб-сайт не распознает обновленную версию Microsoft Edge UA.</span><span class="sxs-lookup"><span data-stu-id="c8218-120">Sometimes, a website does not recognize the updated version of the Microsoft Edge UA.</span></span>  <span data-ttu-id="c8218-121">В результате набор функций этого веб-сайта может работать неправильно.</span><span class="sxs-lookup"><span data-stu-id="c8218-121">As a result, a set of the features of that website may not work correctly.</span></span>  <span data-ttu-id="c8218-122">Если корпорация Майкрософт уведомляет об этих типах проблем, обратитесь к владельцам веб-сайта и сообщите о нем обновленный агент.</span><span class="sxs-lookup"><span data-stu-id="c8218-122">When Microsoft is notified about these types of issues, website owners are contacted and informed about the updated UA.</span></span>  

<span data-ttu-id="c8218-123">Сайтам часто приходится обновлять и тестировать логику обнаружения UA для устранения проблем, которые корпорация Майкрософт предоставляет владельцам сайтов.</span><span class="sxs-lookup"><span data-stu-id="c8218-123">The sites often need some time to update and test the UA detection logic to address the issues that Microsoft reports to site owners.</span></span>  <span data-ttu-id="c8218-124">В этих случаях корпорация Майкрософт применяет список переопределений агента пользователя в наших бета-версиях и стабильных каналах для максимального обеспечения совместимости пользователей, которые имеют доступ к этим сайтам.</span><span class="sxs-lookup"><span data-stu-id="c8218-124">In these cases, Microsoft uses a list of UA overrides in our Beta and Stable channels to maximize compatibility for users who access these sites.</span></span>  <span data-ttu-id="c8218-125">Переопределение задает новые значения агента доменных данных, которые должны отправляться Microsoft EDGE, а не по умолчанию для определенных сайтов.</span><span class="sxs-lookup"><span data-stu-id="c8218-125">The overrides specify new UA values that Microsoft Edge should send instead of the default UA for specific sites.</span></span>  <span data-ttu-id="c8218-126">Вы можете просмотреть список переопределений агента пользователя, которые в данный момент применяются, перейдя `edge://compat/useragent` в бета-и стабильные каналы Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="c8218-126">You are able to view the list of UA overrides that are currently being applied by navigating to `edge://compat/useragent` in the Beta and Stable channels of Microsoft Edge.</span></span> 

<span data-ttu-id="c8218-127">Наши каналы Канарские и dev в настоящее время не получают переопределения агента пользователя, чтобы веб-разработчики могли легко воспроизводить проблемы на сайтах, вызванные по умолчанию Microsoft Edge UA.</span><span class="sxs-lookup"><span data-stu-id="c8218-127">Our Canary and Dev channels do not currently receive UA overrides so that web developers have an environment where they can easily reproduce issues on their sites that are caused by the default Microsoft Edge UA.</span></span>  <span data-ttu-id="c8218-128">Если по какой-либо причине вам требуется возможность отключить переопределения UA в бета или стабильных каналах Microsoft EDGE, вы можете запустить исполняемый файл Microsoft Edge с помощью следующего аргумента командной строки:</span><span class="sxs-lookup"><span data-stu-id="c8218-128">If for some reason you require the ability to disable UA overrides in the Beta or Stable channels of Microsoft Edge, you may run the Microsoft Edge executable using the following command line argument:</span></span>  

```shell
--disable-domain-action-user-agent-override
```  
