---
description: Использование панели "сотрудники службы" для управления и отладки сотрудников службы
title: DevTools — отладчик — сотрудники служб
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 03/05/2020
ms.topic: article
ms.prod: microsoft-edge
keywords: Microsoft EDGE, веб-разработка, инструменты для F12, Devtools, отладчик, отладка, PWA, служебный сотрудник, API кэша
ms.custom: seodec18
ms.openlocfilehash: 8e1fa62358657a47ce40d0742f95a76f2586d0c8
ms.sourcegitcommit: 6860234c25a8be863b7f29a54838e78e120dbb62
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2020
ms.locfileid: "10571726"
---
# Обслуживание сотрудников

На панели " **сотрудники службы** " есть инструменты для управления и отладки рабочих процессов служб для сайта, которые помогут вам:

 - Ознакомьтесь со всеми сотрудниками служб, связанными с сайтом, и подробными сведениями об их области и состоянии
 - **Обновление** и управление (**Отмена регистрации**) регистрация рабочего процесса службы для указанной области
 - **Отправка** тестового уведомления
 - **Остановить** / **Запуск** отдельных сотрудников службы и
 - **Проверка** выбранного сотрудника службы в отдельном окне отладчика

![Область "Общие сведения о сотруднике службы"](./media/service_worker.png)

Обратите внимание на следующие сведения об отладке рабочих процессов службы в EDGE DevTools:

 - При отладке сотрудника службы будет запущен новый экземпляр DevTools отдельно от инструментов страницы, так как работники служб могут совместно работать на нескольких вкладках.
 - [**Элементы**](./elements.md) и панели [**эмуляции**](./emulation.md) отсутствуют в отладчике рабочих процессов служб, если сотрудники служб работают в фоновом режиме и не управляют непосредственно интерфейсом приложения.
 - В настоящее время сетевой трафик для сотрудника службы сообщается только из экземпляра отладки DevTools для этого исполнителя, а не из экземпляра отладчика для самой страницы.
 - Чтобы смоделировать **принудительную** отправку из DevTools, вам нужно будет добавить прослушиватель *извещающих* событий к сотруднику службы, чтобы увидеть его эффект. В приведенном ниже примере на **консоли**обслуживания рабочих процессов выводится сообщение "Проверка push-сообщения от DevTools".

   ```JavaScript
   self.addEventListener('push', function(event){
       console.log(event.data.text());
   });
   ```

Ниже приведены некоторые общие моменты, которые необходимо учитывать при использовании рабочих процессов.

- **Только HTTPS.** Работники служб не работают в HTTP; Вам потребуется использовать протокол HTTPS. Однако вы можете зарегистрировать сотрудников обслуживания `localhost` для целей тестирования.

- **Доступ к DOM не разрешен.** Как и в случае с веб-сотрудниками, вы не получаете доступ к объектной модели страницы. Это означает, что если вам нужно изменить что-либо о странице, вам потребуется использовать ее [`postMessage`](https://developer.mozilla.org/docs/Web/API/Worker/postMessage) из сотрудника службы, чтобы можно было обрабатывать изменения DOM на странице.

- **Выполняется отдельно от страницы.** Поскольку эти сценарии не привязаны к жизненному циклу страницы, важно понимать, что они не используют тот же контекст, что и страница. Помимо того, что у вас нет доступа к модели DOM (как сказано выше), они не смогут получить доступ к тем же переменным, доступным на странице.

- **Переопределяет *кэш приложения*.** При использовании служебных сотрудников служба кэша приложений будет игнорироваться. API рабочего процесса службы предназначен для полной замещения кэша приложения, благодаря чему более детально управлять веб-разработчиком.

  - **Сценарий не может находиться в сети CDN.** Файл JavaScript для сотрудника службы не может размещаться в сети распространения содержимого (CDN), он должен находиться в том же домене, что и страница. Однако при желании вы можете импортировать сценарии из сети CDN.

- **Может быть прекращено в любое время.** Работники служб должны быть короткими, и их жизненный цикл привязан к событиям. В частности, у работников-служб есть ограничение по времени, в течение которого они должны закончить выполнение обработчиков событий. В других случаях браузер или операционная система может завершить работу сотрудника службы, который влияет на батарею, ЦП или потребление памяти. В любом случае следует избегать использования глобальных переменных в сценарии обслуживания рабочих процессов на случай, если в последующем обрабатываемом событии используется другой экземпляр рабочего процесса службы.

- **Разрешены только асинхронные запросы.** Синхронные XHR не разрешены здесь! Ни один из них не является localStorage, поэтому лучше использовать IndexedDB и API нового кэша, описанные выше.

- **Сервисный исполнитель в область — 1:1.** Вам будет доступен только один исполнитель обслуживания для одной области. Это означает, что при попытке зарегистрировать другого сотрудника службы для области, уже имеющей сотрудник службы, этот сотрудник службы будет обновлен.
