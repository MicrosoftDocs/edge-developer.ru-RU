---
description: Узнайте о расширениях хрома и основных концепциях для создания расширений.
title: Microsoft Edge (Chromium) Extensions concepts and architecture
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 01/07/2021
ms.topic: conceptual
ms.prod: microsoft-edge
keywords: edge-chromium, web development, html, css, javascript, developer, extensions
ms.openlocfilehash: 05732287bc1a782ed5830d5e7028cf5580f3b605
ms.sourcegitcommit: 6cf12643e9959873f8b5d785fd6158eeab74f424
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2021
ms.locfileid: "11397926"
---
# <a name="extension-concepts-and-architecture"></a><span data-ttu-id="30eac-104">Концепции расширения и архитектура</span><span class="sxs-lookup"><span data-stu-id="30eac-104">Extension concepts and architecture</span></span>  

<span data-ttu-id="30eac-105">В этой статье содержится краткое представление о понятиях, которые помогают создать расширение.</span><span class="sxs-lookup"><span data-stu-id="30eac-105">This article provides a brief introduction to concepts that help you build an extension.</span></span>  <span data-ttu-id="30eac-106">Чтобы понять расширения Microsoft Edge \(Chromium\), следуйте за ними, чтобы понять, как работают браузеры с несколькими вкладками.</span><span class="sxs-lookup"><span data-stu-id="30eac-106">To understand Microsoft Edge \(Chromium\) extensions, follow along to understand how multi-tab browsers work.</span></span>  

## <a name="understand-how-browsers-work"></a><span data-ttu-id="30eac-107">Понимание работы браузеров</span><span class="sxs-lookup"><span data-stu-id="30eac-107">Understand how browsers work</span></span>  

<span data-ttu-id="30eac-108">В следующем списке описаны полезные сведения, которые необходимо понять перед созданием расширения.</span><span class="sxs-lookup"><span data-stu-id="30eac-108">The following list outlines helpful information to understand before building your extension.</span></span>  

1.  <span data-ttu-id="30eac-109">Каждая вкладка браузера изолирована от каждой другой вкладки.  Каждая вкладка выполняется в отдельном потоке, изолированном от других вкладок и потоков браузера.</span><span class="sxs-lookup"><span data-stu-id="30eac-109">Each browser tab is isolated from every other tab.  Each tab runs in a separate thread that is isolated from other browser tabs and threads.</span></span>  
    
    :::image type="complex" source="./media/index-image1-browsertabs.png" alt-text="Один поток на вкладке браузера" lightbox="./media/index-image1-browsertabs.png":::
       <span data-ttu-id="30eac-111">Один поток на вкладке браузера</span><span class="sxs-lookup"><span data-stu-id="30eac-111">One thread per browser tab</span></span>  
    :::image-end:::  
    
1.  <span data-ttu-id="30eac-112">Каждая вкладка обрабатывает один запрос GET.</span><span class="sxs-lookup"><span data-stu-id="30eac-112">Each tab handles one GET request.</span></span>  <span data-ttu-id="30eac-113">Каждая вкладка использует URL-адрес для получения единого потока данных, который обычно является HTML-документом.</span><span class="sxs-lookup"><span data-stu-id="30eac-113">Each tab uses a URL to get a single stream of data, which is normally an HTML document.</span></span>  <span data-ttu-id="30eac-114">Этот один поток или страница содержит инструкции, такие как JavaScript, включая теги, ссылки на изображения, ссылки на CSS и другие.</span><span class="sxs-lookup"><span data-stu-id="30eac-114">That single stream or page, includes instructions like JavaScript include tags, image references, CSS references, and more.</span></span>  <span data-ttu-id="30eac-115">Все ресурсы загружаются на одну страницу вкладки, а затем страница отрисовка в вкладке.</span><span class="sxs-lookup"><span data-stu-id="30eac-115">All resources are downloaded to that one tab page, and then the page is rendered in the tab.</span></span>  
1.  <span data-ttu-id="30eac-116">Связь происходит между каждой вкладке и удаленным сервером.</span><span class="sxs-lookup"><span data-stu-id="30eac-116">Communication occurs between each tab and a remote server.</span></span>  <span data-ttu-id="30eac-117">Каждая вкладка выполняется в изолированной среде.</span><span class="sxs-lookup"><span data-stu-id="30eac-117">Each tab runs in an isolated environment.</span></span>  <span data-ttu-id="30eac-118">Каждая вкладка по-прежнему подключена к Интернету, но каждая из них изолирована от других вкладок.</span><span class="sxs-lookup"><span data-stu-id="30eac-118">Each tab is still connected to the internet, but each is isolated from other tabs.</span></span>  <span data-ttu-id="30eac-119">Вкладка может запускать JavaScript для связи с сервером.</span><span class="sxs-lookup"><span data-stu-id="30eac-119">A tab may run JavaScript to communicate with a server.</span></span>  <span data-ttu-id="30eac-120">Сервер — это сервер для первого запроса GET, который был введен в URL-планку вкладки.</span><span class="sxs-lookup"><span data-stu-id="30eac-120">The server is the originating server for the first GET request that was entered into the URL bar of the tab.</span></span>  
1.  <span data-ttu-id="30eac-121">Модель расширения использует другую модель связи.</span><span class="sxs-lookup"><span data-stu-id="30eac-121">The extension model uses a different communication model.</span></span>  <span data-ttu-id="30eac-122">Как и на странице вкладки, расширение выполняется в отдельном потоке, изолированном от других потоков страницы вкладок.</span><span class="sxs-lookup"><span data-stu-id="30eac-122">Similar to a tab page, an extension runs in an individual thread that is isolated from other tab page threads.</span></span>  <span data-ttu-id="30eac-123">Вкладка отправляет одиночные запросы GET на удаленные серверы, а затем отрисовка страницы.</span><span class="sxs-lookup"><span data-stu-id="30eac-123">A tab sends single GET requests to remote servers, and then renders the page.</span></span>  <span data-ttu-id="30eac-124">Однако расширение работает аналогично удаленному серверу.</span><span class="sxs-lookup"><span data-stu-id="30eac-124">However, an extension works similar to a remote server.</span></span>  <span data-ttu-id="30eac-125">Установка расширения в браузере создает автономный веб-сервер в браузере.</span><span class="sxs-lookup"><span data-stu-id="30eac-125">Installing an extension in a browser creates a standalone web server in the browser.</span></span>  <span data-ttu-id="30eac-126">Расширение изолировано от всех страниц вкладок.</span><span class="sxs-lookup"><span data-stu-id="30eac-126">The extension is isolated from all tab pages.</span></span>  
    
    :::image type="complex" source="./media/index-image3-upsidedown.png" alt-text="Расширения используют другую модель связи" lightbox="./media/index-image3-upsidedown.png":::
       <span data-ttu-id="30eac-128">Расширения используют другую модель связи</span><span class="sxs-lookup"><span data-stu-id="30eac-128">Extensions use a different communication model</span></span>  
    :::image-end:::  
    
## <a name="extension-architecture"></a><span data-ttu-id="30eac-129">Архитектура расширения</span><span class="sxs-lookup"><span data-stu-id="30eac-129">Extension architecture</span></span>  

<span data-ttu-id="30eac-130">В следующем списке излагается полезная информация, связанная с архитектурой расширения.</span><span class="sxs-lookup"><span data-stu-id="30eac-130">The following list outlines helpful information as it relates to the architecture of an extension.</span></span>  

1.  <span data-ttu-id="30eac-131">Пакет веб-сервера Extension.</span><span class="sxs-lookup"><span data-stu-id="30eac-131">The Extension web server bundle.</span></span>  <span data-ttu-id="30eac-132">Расширение — это набор веб-ресурсов.</span><span class="sxs-lookup"><span data-stu-id="30eac-132">An extension is a bundle of web resources.</span></span>  <span data-ttu-id="30eac-133">Веб-ресурсы аналогичны другим ресурсам, которые вы \(веб-разработчик\) публикуете на веб-серверах.</span><span class="sxs-lookup"><span data-stu-id="30eac-133">The web resources are similar to other resources that you \(the web developer\) publish to web servers.</span></span>  <span data-ttu-id="30eac-134">При создании расширения веб-ресурсы можно объединить в почтовый файл.</span><span class="sxs-lookup"><span data-stu-id="30eac-134">You bundle the web resources into a zip file when building an extension.</span></span>  
    
    <span data-ttu-id="30eac-135">Файл zip включает HTML-файлы, CSS, JavaScript и файлы изображений.</span><span class="sxs-lookup"><span data-stu-id="30eac-135">The zip file includes HTML, CSS, JavaScript, and image files.</span></span>  <span data-ttu-id="30eac-136">В корне почтового файла требуется еще один файл.</span><span class="sxs-lookup"><span data-stu-id="30eac-136">One more file is required in the root of the zip file.</span></span>  <span data-ttu-id="30eac-137">Другой файл — это файл манифеста, который называется `manifest.json` .</span><span class="sxs-lookup"><span data-stu-id="30eac-137">The other file is the manifest file that is named `manifest.json`.</span></span>  <span data-ttu-id="30eac-138">Файл манифеста является планом расширения и включает версию расширения, название, разрешения, необходимые для запуска расширения, и так далее.</span><span class="sxs-lookup"><span data-stu-id="30eac-138">The manifest file is the blueprint of your extension and includes the version of your extension, the title, permissions needed for the extension to run, and so on.</span></span>  
    
1.  <span data-ttu-id="30eac-139">Запуск сервера расширения.</span><span class="sxs-lookup"><span data-stu-id="30eac-139">Launching the extension server.</span></span>  <span data-ttu-id="30eac-140">Веб-серверы содержат ваш веб-пакет.</span><span class="sxs-lookup"><span data-stu-id="30eac-140">Web servers contain your web bundle.</span></span>  <span data-ttu-id="30eac-141">Браузер переходит к URL-адресам на сервере и скачивает файл для отрисовки в браузере.</span><span class="sxs-lookup"><span data-stu-id="30eac-141">A browser navigates to URLs on the server, and downloads the file to render in the browser.</span></span>  <span data-ttu-id="30eac-142">Браузер перемещается с помощью сертификатов, файлов конфигурации и так далее.</span><span class="sxs-lookup"><span data-stu-id="30eac-142">A browser navigates using certificates, configuration files, and so on.</span></span>  <span data-ttu-id="30eac-143">Если задан файл, файл хранится в `index.html` специальном расположении на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="30eac-143">If an `index.html` file is specified, the file is stored at a special location on the web server.</span></span>  
    
    <span data-ttu-id="30eac-144">При использовании расширения страница вкладки браузера попадает в веб-пакет расширения с помощью времени запуска расширения.</span><span class="sxs-lookup"><span data-stu-id="30eac-144">When you use an extension, the tab page of your browser gets to the web bundle of your extension using the extension runtime.</span></span>  <span data-ttu-id="30eac-145">Время запуска расширения служит файлам из URL-адреса, где используется уникальный идентификатор, присвоенный расширению `extension://{some-long-unique-identifier}/index.html` `{some-long-unique-identifier}` при установке.</span><span class="sxs-lookup"><span data-stu-id="30eac-145">The extension runtime serves the files from the URL `extension://{some-long-unique-identifier}/index.html`, where `{some-long-unique-identifier}` is a unique identifier assigned to the extension when during installation.</span></span>  <span data-ttu-id="30eac-146">Каждое расширение использует уникальный идентификатор.</span><span class="sxs-lookup"><span data-stu-id="30eac-146">Each extension uses a different unique identifier.</span></span>  <span data-ttu-id="30eac-147">Каждый идентификатор указывает на веб-пакет, установленный в браузере.</span><span class="sxs-lookup"><span data-stu-id="30eac-147">Each identifier points to the web bundle that is installed in your browser.</span></span>  
    
1.  <span data-ttu-id="30eac-148">Расширение может взаимодействовать со вкладками и панелью инструментов браузера.</span><span class="sxs-lookup"><span data-stu-id="30eac-148">An extension may communicate with tabs and the browser toolbar.</span></span>  <span data-ttu-id="30eac-149">Расширение может взаимодействовать с панелью инструментов браузера.</span><span class="sxs-lookup"><span data-stu-id="30eac-149">An extension may interact with the toolbar of your browser.</span></span>  <span data-ttu-id="30eac-150">Каждое расширение управляет запущенными страницами вкладок в отдельных потоках, а манипуляции DOM на каждой странице вкладки изолированы.</span><span class="sxs-lookup"><span data-stu-id="30eac-150">Each extension manages running tab pages in separate threads, and DOM manipulation on each tab page is isolated.</span></span>  <span data-ttu-id="30eac-151">Расширение использует API расширений для связи между страницами расширения и вкладками.</span><span class="sxs-lookup"><span data-stu-id="30eac-151">An extension uses the extensions API to communicate between the extension and tab pages.</span></span>  <span data-ttu-id="30eac-152">API расширений предоставляет дополнительные возможности, которые включают управление уведомлениями, управление хранением и так далее.</span><span class="sxs-lookup"><span data-stu-id="30eac-152">The extensions API provides extra capabilities that include notification management, storage management, and so on.</span></span>  
    
    <span data-ttu-id="30eac-153">Как и веб-серверы, расширение ждет уведомлений, когда браузер открыт.</span><span class="sxs-lookup"><span data-stu-id="30eac-153">Just like web servers, an extension waits for notifications when the browser is open.</span></span>  <span data-ttu-id="30eac-154">Страницы расширения и вкладки работают в потоках, изолированных друг от друга.</span><span class="sxs-lookup"><span data-stu-id="30eac-154">An extension and tab pages run in threads that are isolated from each other.</span></span>  <span data-ttu-id="30eac-155">Чтобы разрешить расширению работать с любой страницей вкладки, используйте API расширений и установите разрешения в файле манифеста.</span><span class="sxs-lookup"><span data-stu-id="30eac-155">To allow an extension to work with any tab page, use the extensions API and set the permissions in the manifest file.</span></span>  
    
1.  <span data-ttu-id="30eac-156">Расширение предоставляет разрешения на выбор при установке.</span><span class="sxs-lookup"><span data-stu-id="30eac-156">An extension provides opt-in permissions at install time.</span></span>  <span data-ttu-id="30eac-157">Вы указываете разрешения расширения в `manifest.json` файле.</span><span class="sxs-lookup"><span data-stu-id="30eac-157">You specify the extension permissions in the `manifest.json` file.</span></span>  <span data-ttu-id="30eac-158">При установке расширения пользователем отображаются сведения о разрешениях, необходимых для расширения.</span><span class="sxs-lookup"><span data-stu-id="30eac-158">When a user installs an extension, information about the permissions that the extension requires is displayed.</span></span>  <span data-ttu-id="30eac-159">В зависимости от типа требуемого разрешения расширение может извлекать и использовать сведения из браузера.</span><span class="sxs-lookup"><span data-stu-id="30eac-159">Based on the type of permission required, the extension may extract and use information from the browser.</span></span>  
    
## <a name="next-steps"></a><span data-ttu-id="30eac-160">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="30eac-160">Next steps</span></span>  

<span data-ttu-id="30eac-161">Сведения о том, как начать работу с расширением, перейдите по [ссылке Создание учебника по расширению.][CreateAnExtensionPart1]</span><span class="sxs-lookup"><span data-stu-id="30eac-161">For information on getting started with your extension, navigate to [Create an extension tutorial][CreateAnExtensionPart1].</span></span>  

<!-- links -->  

[CreateAnExtensionPart1]: ./part1-simple-extension.md "Создание учебника по расширению — часть 1 | Документы Майкрософт"  
