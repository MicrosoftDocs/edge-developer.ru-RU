---
description: Узнайте, что такое расширение Chromium, а также последовательное создание полного расширения для просмотра изображений, включающего параметры, внедрение содержимого, фоновые сценарии, хранение и многое другое.
title: Начало работы с расширениями Microsoft EDGE (Chromium)
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 12/05/2019
ms.topic: article
ms.prod: microsoft-edge-chromium
keywords: Edge — Chromium, Web Development, HTML, CSS, JavaScript, разработчик, расширения
ms.openlocfilehash: a271514f39ed8bbe379116c33e23c973d3eb6adb
ms.sourcegitcommit: 6860234c25a8be863b7f29a54838e78e120dbb62
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2020
ms.locfileid: "10571643"
---
# <span data-ttu-id="9d6bf-104">Начало работы с расширениями Microsoft Edge \ (Chromium \)</span><span class="sxs-lookup"><span data-stu-id="9d6bf-104">Getting Started With Microsoft Edge \(Chromium\) Extensions</span></span>  

<span data-ttu-id="9d6bf-105">Если вы хотите сразу же приступить к созданию вашего первого расширения, перейдите к части 1, покоторой вы разрабатываете расширение дня на NASA.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-105">If you want to jump directly into building your first Extension, go to part 1 of building a NASA picture of the day Extension.</span></span>  

<span data-ttu-id="9d6bf-106">Если вы не знакомы с расширениями и концепциями, продолжайте чтение и узнаете о расширениях.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-106">If you are not familiar with the Extension concepts and architecture, continue reading, and learn all about what Extensions are.</span></span>  <span data-ttu-id="9d6bf-107">Эта информация поможет вам более легко создавать расширения, так как вы понимаете мотивацию и архитектуру за ними.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-107">This information helps you build Extensions much easier since you understand the motivations and architecture behind them.</span></span>  

## <span data-ttu-id="9d6bf-108">Создание изображения NASA в расширении дня</span><span class="sxs-lookup"><span data-stu-id="9d6bf-108">Build a NASA picture of the day Extension</span></span>  

<span data-ttu-id="9d6bf-109">Каждый раздел содержит установочный источник, на который ссылается пакет расширения.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-109">Each section has the completed Extension source installation package referenced in it.</span></span>  

*   [<span data-ttu-id="9d6bf-110">Создавайте простое расширение, которое выталкивает на картину дня в NASA</span><span class="sxs-lookup"><span data-stu-id="9d6bf-110">Build a simple Extension that pops up NASA picture of the day</span></span>](part1-simple-extension.md)  
    *   <span data-ttu-id="9d6bf-111">Создание манифеста</span><span class="sxs-lookup"><span data-stu-id="9d6bf-111">Creating a Manifest</span></span>  
    *   <span data-ttu-id="9d6bf-112">Назначение значков расширений</span><span class="sxs-lookup"><span data-stu-id="9d6bf-112">Assign Extension icons</span></span>  
    *   <span data-ttu-id="9d6bf-113">Отображение всплывающего окна</span><span class="sxs-lookup"><span data-stu-id="9d6bf-113">Displaying a Pop-up Window</span></span>  
    *   <span data-ttu-id="9d6bf-114">Запустите расширение локально в браузере \ (боковая загрузка)</span><span class="sxs-lookup"><span data-stu-id="9d6bf-114">Run your Extension locally in your browser \(side-loading\)</span></span>  

*   [<span data-ttu-id="9d6bf-115">Динамическое добавление изображения NASA под тегом body страницы</span><span class="sxs-lookup"><span data-stu-id="9d6bf-115">Dynamically insert NASA picture below the page body tag</span></span>](part2-content-scripts.md)  
    *   <span data-ttu-id="9d6bf-116">Создание сценария JavaScript, который вставляет сценарий динамического содержимого</span><span class="sxs-lookup"><span data-stu-id="9d6bf-116">Create JavaScript that inserts dynamic content script</span></span>  
    *   <span data-ttu-id="9d6bf-117">Определение в манифесте, на котором страницы получают сценарий содержимого</span><span class="sxs-lookup"><span data-stu-id="9d6bf-117">Define in manifest which pages get content script</span></span>  
    *   <span data-ttu-id="9d6bf-118">Декларативное добавление сценария содержимого</span><span class="sxs-lookup"><span data-stu-id="9d6bf-118">Inject content script declaratively</span></span>  
    *   <span data-ttu-id="9d6bf-119">Добавление кнопки в всплывающем окне для отправки сообщения в сценарий содержимого</span><span class="sxs-lookup"><span data-stu-id="9d6bf-119">Add a Button on Pop-up to send a message to content script</span></span>  
    *   <span data-ttu-id="9d6bf-120">Получение сообщения в сценарии содержимого</span><span class="sxs-lookup"><span data-stu-id="9d6bf-120">Receive a message inside a content script</span></span>  

## <span data-ttu-id="9d6bf-121">Знакомство с браузером перед внесением новых расширений</span><span class="sxs-lookup"><span data-stu-id="9d6bf-121">Understanding the browser before Extensions are introduced</span></span>  

### <span data-ttu-id="9d6bf-122">Каждая вкладка браузера изолирована от всех остальных вкладок</span><span class="sxs-lookup"><span data-stu-id="9d6bf-122">Each browser tab is isolated from every other tab</span></span>  

<span data-ttu-id="9d6bf-123">Чтобы понять, что такое расширение Microsoft Edge \ (Chromium \), сначала нужно полностью понять, что такое браузер, например Microsoft EDGE, в первую очередь.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-123">To understand what a Microsoft Edge \(Chromium\) Extension is, we first need to fully understand what a multi tab browser, like Microsoft Edge does primarily.</span></span>  <span data-ttu-id="9d6bf-124">Для начала все вкладки браузера выполняются в отдельном потоке, который эффективно изолирует его от других вкладок браузера \ (или потоков \).</span><span class="sxs-lookup"><span data-stu-id="9d6bf-124">To start, each browser tab runs in an individual thread that effectively isolates it from other browser tabs \(or threads\).</span></span>  

![Один поток на вкладку "браузер"](media/index-image1-browsertabs.png)  

### <span data-ttu-id="9d6bf-126">Каждая Табуляция обрабатывает один запрос GET</span><span class="sxs-lookup"><span data-stu-id="9d6bf-126">Each tab handles one GET request</span></span>  

<span data-ttu-id="9d6bf-127">Каждая вкладка по сути использует URL-адрес (также называемый указателем унифицированных ресурсов) для получения единственного потока данных, который обычно является документом HTML.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-127">Each tab essentially use the URL \(also known as the uniform resource locator\) to get a single stream of data which is typically an HTML document.</span></span>  <span data-ttu-id="9d6bf-128">Этот единственный поток \ (или Page \) часто содержит инструкции \ (например, Теги включения JavaScript, ссылки на изображения, ссылки CSS и т. д.).</span><span class="sxs-lookup"><span data-stu-id="9d6bf-128">That single stream \(or page\), often includes instructions \(like JavaScript include tags, image references, CSS references, and more\).</span></span>  <span data-ttu-id="9d6bf-129">В конечном итоге все нужные ресурсы загружаются на эту страницу вкладки, и обычно отображается зрительный образ, который отображается на вкладке браузера полностью.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-129">Ultimately, all the resources needed are downloaded to that one tab page and typically a visualization appears which we see in the browser tab completely rendered.</span></span>  

### <span data-ttu-id="9d6bf-130">Все сообщения с каждой вкладки находятся на удаленных серверах</span><span class="sxs-lookup"><span data-stu-id="9d6bf-130">All communication from each tab is to remote servers</span></span>  

<span data-ttu-id="9d6bf-131">Общее представление о том, что каждая вкладка работает в изолированной среде, означает, что эти вкладки изолированы друг от друга, но не в более чем в Интернете.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-131">Understanding that each tab runs in an isolated environment means that these tabs are isolated from each other, but not the greater internet.</span></span>  <span data-ttu-id="9d6bf-132">Как правило, эти вкладки, в том числе и для языка программирования JavaScript, сообщают на сервер, которые следует рассматривать как исходный сервер для первого запроса на получение, который был введен в строке URL-адреса в верхней части вкладки браузера.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-132">Typically, these tabs, running JavaScript as there programming language, communicate back to the server, that should be thought of as the originating server for that first GET request that was entered into the URL bar at the top of the browser tab.</span></span>  

## <span data-ttu-id="9d6bf-133">Модель расширения переворачивает все элементы сверху вниз</span><span class="sxs-lookup"><span data-stu-id="9d6bf-133">The Extension model turns everything upside down</span></span>  

<span data-ttu-id="9d6bf-134">Расширение, точно так же, как страницы вкладок, выполняется в отдельном потоке, который полностью изолирован от всех обсуждаемых обсуждений страниц вкладки.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-134">An Extension, just like tab pages, runs in a individual thread which is completely isolated from all tab page threads that are discussed.</span></span>  <span data-ttu-id="9d6bf-135">В отличие от вкладок, в которых обычно выдается один запрос GET на удаленный сервер, а затем отображаются сведения об этих данных в браузере, расширение — это сервер, который ранее находился на другом конце Интернет-соединения, сделанного на вкладке браузера.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-135">Unlike the tabs whose job is to typically issue a single GET request to a remote server, then display a visualization of that data in the browser, the Extension, on the other hand is the server, that previously resided on the other end of the internet connection made from a browser tab.</span></span>  

![Модель расширения превращает серверную модель вверх вниз](media/index-image3-upsidedown.png)  

<span data-ttu-id="9d6bf-137">Это очень важно для понимания.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-137">This is really important to understand.</span></span>  <span data-ttu-id="9d6bf-138">После того как вы создадите расширение и установили его в браузере, вы создали отдельный веб-сервер, который в настоящее время работает и дыхательен в вашем браузере, но по-прежнему будет изолирован от каждой вкладки, запущенной в этом браузере.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-138">Once you create an Extension, and install it in your browser, you've created a standalone web server that is living and breathing inside of your browser but still isolated from every tab page running on that browser.</span></span>  

### <span data-ttu-id="9d6bf-139">Набор веб-серверов расширений</span><span class="sxs-lookup"><span data-stu-id="9d6bf-139">The Extension web server bundle</span></span>  

<span data-ttu-id="9d6bf-140">Итак, что такое расширение?</span><span class="sxs-lookup"><span data-stu-id="9d6bf-140">So what is an Extension?</span></span> <span data-ttu-id="9d6bf-141">Это набор (или файл ZIP) веб-ресурсов, который не отличается от веб-разработчика, опубликованного на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-141">It is a bundle \(or referred to as a zip file\) of web resources that are no different than what a web developer publishes to a web server.</span></span>  

<span data-ttu-id="9d6bf-142">Этот ZIP-файл включает HTML, CSS, JavaScript, изображения и все необходимые ресурсы для создания веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-142">That zip file includes HTML, CSS, JavaScript, images and all the necessary assets to make a web page.</span></span>  <span data-ttu-id="9d6bf-143">Тем не менее, в корне этого ZIP-файла должен быть один дополнительный файл, который является именем файла `manifest.json` .</span><span class="sxs-lookup"><span data-stu-id="9d6bf-143">There is however, one extra file that is required in the root of this zip file, and that file is named `manifest.json`.</span></span>  <span data-ttu-id="9d6bf-144">Это проектное руководство для вашего расширения, которое включает такие вещи, как версия расширения, каково название, какие привилегии нужно запускать и многое другое.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-144">It is the blueprint for your Extension that includes things like what is the version of your Extension, what is the title, what privileges does it need to run and lots more.</span></span>  

![Просмотр файлов в ZIP-файле](media/index-image5-filemanager-view.png)  

### <span data-ttu-id="9d6bf-146">Запуск сервера расширений</span><span class="sxs-lookup"><span data-stu-id="9d6bf-146">Launching the Extension server</span></span>  

<span data-ttu-id="9d6bf-147">При развертывании на веб-сервере этот веб-сервер, будь то сервер Apache, IIS, NGINX или другой, содержит веб-набор.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-147">When you deploy to a web server, that web server, whether it is Apache, IIS, NGINX or any other, contains your web bundle.</span></span>  <span data-ttu-id="9d6bf-148">Когда браузер переходит по URL-адресу на сервере, `index.html` загружается файл на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-148">When a browser navigates to a URL on a server, the `index.html` file on the web server is downloaded.</span></span>  <span data-ttu-id="9d6bf-149">Браузер переходит на использование сертификатов, файлов конфигурации и других параметров.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-149">The browser navigated using certificates, configuration files, and more.</span></span>  <span data-ttu-id="9d6bf-150">`index.html`Файл, хранящийся в специальном расположении на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-150">The `index.html` file stored at some special location on the web server.</span></span>   <span data-ttu-id="9d6bf-151">Как ваше расширение делает то же самое?</span><span class="sxs-lookup"><span data-stu-id="9d6bf-151">How does your Extension do the same thing?</span></span>  <span data-ttu-id="9d6bf-152">В частности, каким образом страницы вкладок браузера смогут перейти к этому ZIP-файлу \ (расширение)?</span><span class="sxs-lookup"><span data-stu-id="9d6bf-152">Particularly, how is the tab pages of your browser able to get to this zip file \(your Extension\)?</span></span>  <span data-ttu-id="9d6bf-153">Это то, что делает среда выполнения расширения.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-153">That is what the Extension runtime does for you.</span></span>  

<span data-ttu-id="9d6bf-154">Расширение выполняет все файлы с URL-адресом (унифицированный указатель ресурсов \) по имени `extension://{some-long-unique-identifier}/index.html` .</span><span class="sxs-lookup"><span data-stu-id="9d6bf-154">The extension serves the files all from the URL \(uniform resource locator\) at the name `extension://{some-long-unique-identifier}/index.html`.</span></span>  <span data-ttu-id="9d6bf-155">Имя, введенное в квадратных скобках, `{some-long-unique-identifier}` — это уникальный идентификатор, назначаемый установленному расширению.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-155">The name I put in brackets, `{some-long-unique-identifier}` is a unique identifier assigned to the Extension that you installed.</span></span>  <span data-ttu-id="9d6bf-156">Это означает, что если в браузере установлено 10 уникальных расширений, у каждого расширения есть уникальный идентификатор, указывающий на ZIP-файл \ (или набор расширений \), установленный в браузере.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-156">That means, if you have 10 unique Extensions installed on your browser, each Extension has a unique identifier that points at the zip file \(or Extension bundle\) installed inside your browser.</span></span>  

<!--![Unique URLS for Extensions](media/index-image4-uniqueurls.png)  -->  

<!--todo: add image for unique URLs  -->  

### <span data-ttu-id="9d6bf-157">Расширение управления и взаимодействия с вкладками и панелью инструментов браузера</span><span class="sxs-lookup"><span data-stu-id="9d6bf-157">Extensions manage and communicate with tabs and the browser toolbar</span></span>  

<span data-ttu-id="9d6bf-158">Расширения взаимодействуют с помощью панели инструментов "браузеры", каждый из которых позволяет управлять всеми запущенными страницами вкладок безопасным способом, а также обрабатывать модель DOM для всех этих вкладок.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-158">Extensions interact with the browsers toolbar, each is able to manage all the other running tab pages in a safe way, as well as manipulating the DOM of all those tab pages.</span></span>  <span data-ttu-id="9d6bf-159">Встроенные в браузер Chromium — это API сообщений, с помощью которого можно получить связь между расширениями и страницами вкладок, чтобы сделать это корректно.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-159">Built into the Chromium browser is a message API that allows for communications between the Extensions and the tab pages to allow this to happen gracefully.</span></span>  <span data-ttu-id="9d6bf-160">Этот API, также называемый API расширений, предоставляет множество возможностей, включая Управление уведомлениями, управление хранением и многое другое.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-160">This API, also known as the Extensions API gives a lots of capabilities including notification management, storage management, and much more.</span></span>  

<span data-ttu-id="9d6bf-161">Так же, как и веб-серверы, расширения смогут непрерывно запускать (или ожидать уведомления) в течение всего времени работы браузера.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-161">Just like web servers, Extensions are able to continually run \(or sleep waiting for notifications\) all the time that the browser is running.</span></span>  <span data-ttu-id="9d6bf-162">Расширение может представлять собой Orchestrator для браузера.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-162">You may think of an Extension as an orchestrator for the browser.</span></span>  <span data-ttu-id="9d6bf-163">Опять же, расширение выполняется полностью изолировано на вкладках, но через API расширений и разрешения на включение, предоставленные для расширения, каждое расширение может практически управлять всеми страницами вкладок, запущенными в браузере.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-163">Again, the Extension runs completely isolated from the tab pages, but through the Extensions API, and opt-in permissions granted to the Extension, each Extension is able to virtually control any and all tab pages running in the browser.</span></span>  

### <span data-ttu-id="9d6bf-164">Расширения обеспечивают явный вход в модель безопасности во время установки</span><span class="sxs-lookup"><span data-stu-id="9d6bf-164">Extensions provide an opt-in at install time security model</span></span>  

<span data-ttu-id="9d6bf-165">Каждое расширение с помощью объявления в `manifest.json` файле позволяет человеку установить расширение, чтобы дать ему разные уровни полномочий.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-165">Each Extension, through a declaration in the `manifest.json` file allows the person installing the Extension to give it different levels of authority.</span></span>  <span data-ttu-id="9d6bf-166">Этот орган допускает расширение, установленное пользователем, для выбора, чтобы расширение могло извлекать любые данные и обрабатывать эти данные с помощью расширения.</span><span class="sxs-lookup"><span data-stu-id="9d6bf-166">This authority allows Extensions, when installed by a user, to opt-in so that the Extension is able to extract any information, and process that data through the Extension.</span></span>  

<!-- image links -->  

<!-- links -->  
