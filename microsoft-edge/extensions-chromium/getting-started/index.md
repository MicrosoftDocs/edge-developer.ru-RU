---
description: Узнайте о расширениях Chromium и основных концепциях для сборки расширений.
title: Концепции и архитектура расширений Microsoft EDGE (Chromium)
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 10/01/2020
ms.topic: conceptual
ms.prod: microsoft-edge
keywords: Edge — Chromium, Web Development, HTML, CSS, JavaScript, разработчик, расширения
ms.openlocfilehash: 8ffdd19e1a1e36a4d10fdd80bd7dd5654d543527
ms.sourcegitcommit: 845a0d53a86bee3678f421adee26b3372cefce57
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/08/2020
ms.locfileid: "11104730"
---
# <span data-ttu-id="8597a-104">Концепции и архитектура расширений</span><span class="sxs-lookup"><span data-stu-id="8597a-104">Extension concepts and architecture</span></span>

<span data-ttu-id="8597a-105">В этой статье приведены краткие сведения о концепциях, помогающих при создании расширений.</span><span class="sxs-lookup"><span data-stu-id="8597a-105">This article provides a brief introduction to concepts that help when building extensions.</span></span> <span data-ttu-id="8597a-106">Для понимания расширений Microsoft Edge \ (Chromium \) мы сперва расскажем, как работают браузеры с несколькими вкладками.</span><span class="sxs-lookup"><span data-stu-id="8597a-106">To understand Microsoft Edge \(Chromium\) extensions, we first discuss how multi-tab browsers work.</span></span>


## <span data-ttu-id="8597a-107">Принципы работы браузеров</span><span class="sxs-lookup"><span data-stu-id="8597a-107">Understand how browsers work</span></span>

<span data-ttu-id="8597a-108">В приведенном ниже списке описаны полезные сведения, которые необходимо понять перед созданием расширения.</span><span class="sxs-lookup"><span data-stu-id="8597a-108">The following list outlines helpful information to understand before building your extension.</span></span>

1.  <span data-ttu-id="8597a-109">Каждая вкладка браузера изолирована от всех остальных вкладок.  Каждая вкладка выполняется в отдельном потоке, который изолирован от других вкладок и потоков браузера.</span><span class="sxs-lookup"><span data-stu-id="8597a-109">Each browser tab is isolated from every other tab.  Each tab runs in its own thread that's isolated from other browser tabs and threads.</span></span>

    ![Один поток на вкладку "браузер"](media/index-image1-browsertabs.png)  

2.  <span data-ttu-id="8597a-111">Каждая вкладка обрабатывает один запрос GET.</span><span class="sxs-lookup"><span data-stu-id="8597a-111">Each tab handles one GET request.</span></span>  <span data-ttu-id="8597a-112">Каждая вкладка использует URL-адрес для получения единственного потока данных, который обычно является HTML-документом.</span><span class="sxs-lookup"><span data-stu-id="8597a-112">Each tab uses a URL to get a single stream of data, which is normally an HTML document.</span></span>  <span data-ttu-id="8597a-113">Этот поток или страница содержит инструкции, такие как JavaScript, включают в себя теги, ссылки на изображения, CSS-ссылки и многое другое.</span><span class="sxs-lookup"><span data-stu-id="8597a-113">That single stream or page, includes instructions like JavaScript include tags, image references, CSS references, and more.</span></span>  <span data-ttu-id="8597a-114">Все ресурсы загружаются на эту страницу вкладки, а затем на вкладке отображается страница.</span><span class="sxs-lookup"><span data-stu-id="8597a-114">All resources are downloaded to that one tab page, and then the page is rendered in the tab.</span></span>  

3.  <span data-ttu-id="8597a-115">Связь между вкладками и удаленными серверами осуществляется между собой.</span><span class="sxs-lookup"><span data-stu-id="8597a-115">Communication occurs between each tab and remote servers.</span></span>  <span data-ttu-id="8597a-116">Каждая вкладка запускается в изолированной среде.</span><span class="sxs-lookup"><span data-stu-id="8597a-116">Each tab runs in an isolated environment.</span></span> <span data-ttu-id="8597a-117">Они по-прежнему подключены к Интернету, но они изолированы от других вкладок.</span><span class="sxs-lookup"><span data-stu-id="8597a-117">They're still connected to the internet but they're isolated from other tabs.</span></span>  <span data-ttu-id="8597a-118">Для связи с серверами на вкладках можно использовать JavaScript.</span><span class="sxs-lookup"><span data-stu-id="8597a-118">Tabs may run JavaScript to communicate with servers.</span></span> <span data-ttu-id="8597a-119">Эти серверы представляют собой исходный сервер для первого запроса GET, который был введен в строке URL-адреса вкладки.</span><span class="sxs-lookup"><span data-stu-id="8597a-119">These servers are the originating server for the first GET request that was entered into the URL bar of the tab.</span></span>  

4.  <span data-ttu-id="8597a-120">Модель расширения использует другую модель связи.</span><span class="sxs-lookup"><span data-stu-id="8597a-120">The extension model uses a different communication model.</span></span>  <span data-ttu-id="8597a-121">Так же, как и страницы вкладок, расширения выполняются в отдельных потоках, изолированных от всех потоков страницы вкладок.</span><span class="sxs-lookup"><span data-stu-id="8597a-121">Similar to tab pages, extensions run in individual threads that are isolated from all tab page threads.</span></span>  <span data-ttu-id="8597a-122">С помощью вкладок можно выпустить однозначные запросы на доступ к удаленным серверам и затем отобразить страницу.</span><span class="sxs-lookup"><span data-stu-id="8597a-122">Tabs issue single GET requests to remote servers, and then renders the page.</span></span> <span data-ttu-id="8597a-123">Однако функции расширений похожи на удаленный сервер.</span><span class="sxs-lookup"><span data-stu-id="8597a-123">However, extensions function similar to a remote server.</span></span> <span data-ttu-id="8597a-124">При установке расширений в браузере создается автономный веб-сервер в браузере.</span><span class="sxs-lookup"><span data-stu-id="8597a-124">Installing extensions in your browser creates a standalone web server in the browser.</span></span> <span data-ttu-id="8597a-125">Расширение изолируется от всех вкладок.</span><span class="sxs-lookup"><span data-stu-id="8597a-125">The extension is isolated from all tab pages.</span></span>  

    ![Расширения используют другую модель связи](media/index-image3-upsidedown.png)  

## <span data-ttu-id="8597a-127">Архитектура расширения</span><span class="sxs-lookup"><span data-stu-id="8597a-127">Extension architecture</span></span>

<span data-ttu-id="8597a-128">В приведенном ниже списке описаны полезные сведения, связанные с архитектурой расширения.</span><span class="sxs-lookup"><span data-stu-id="8597a-128">The following list outlines helpful information as it relates to the architecture of an extension.</span></span>  

1.  <span data-ttu-id="8597a-129">Набор веб-серверов расширений.</span><span class="sxs-lookup"><span data-stu-id="8597a-129">The Extension web server bundle.</span></span>  <span data-ttu-id="8597a-130">Расширение — это набор веб-ресурсов.</span><span class="sxs-lookup"><span data-stu-id="8597a-130">An extension is a bundle of web resources.</span></span> <span data-ttu-id="8597a-131">Эти веб-ресурсы похожи на другие ресурсы, которые веб-разработчики публикуют на веб-серверах.</span><span class="sxs-lookup"><span data-stu-id="8597a-131">These web resources are similar to other resources that web developers publish to web servers.</span></span> <span data-ttu-id="8597a-132">Разработчики могут объединять эти веб-ресурсы в файл в формате zip при создании расширения.</span><span class="sxs-lookup"><span data-stu-id="8597a-132">Developers bundle these web resources into a zip file when building an extension.</span></span>
    
    <span data-ttu-id="8597a-133">ZIP-файл включает файлы HTML, CSS, JavaScript и изображений.</span><span class="sxs-lookup"><span data-stu-id="8597a-133">The zip file includes HTML, CSS, JavaScript, and image files.</span></span>  <span data-ttu-id="8597a-134">В корневом каталоге ZIP-файла должен быть один дополнительный файл.</span><span class="sxs-lookup"><span data-stu-id="8597a-134">There's one additional file that is required in the root of the zip file.</span></span> <span data-ttu-id="8597a-135">Этот файл является файлом манифеста и назван `manifest.json` .</span><span class="sxs-lookup"><span data-stu-id="8597a-135">This file is the manifest file, and is named `manifest.json`.</span></span>  <span data-ttu-id="8597a-136">Это проект вашего расширения, включающий версию расширения, название, разрешения, необходимые для выполнения расширения, и т. д.</span><span class="sxs-lookup"><span data-stu-id="8597a-136">It's the blueprint of  your extension and includes the version of your extension, the title, permissions needed for the extension to run, and so on.</span></span>

2.  <span data-ttu-id="8597a-137">Запуск сервера расширений.</span><span class="sxs-lookup"><span data-stu-id="8597a-137">Launching the extension server.</span></span>  <span data-ttu-id="8597a-138">Веб-серверы содержат веб-наборы.</span><span class="sxs-lookup"><span data-stu-id="8597a-138">Web servers contain your web bundle.</span></span> <span data-ttu-id="8597a-139">Браузеры произходят по URL-адресам на сервере и загружают файл для отрисовки в браузере.</span><span class="sxs-lookup"><span data-stu-id="8597a-139">Browsers navigate to URLs on the server, and download the file to render in the browser.</span></span> <span data-ttu-id="8597a-140">Браузеры используются для навигации по сертификатам, файлам конфигурации и т. д.</span><span class="sxs-lookup"><span data-stu-id="8597a-140">Browsers navigate using certificates, configuration files, and so on.</span></span>  <span data-ttu-id="8597a-141">Если `index.html` файл существует, он хранится в специальном расположении на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="8597a-141">If there's an `index.html` file, that's stored at a special location on the web server.</span></span>  

    <span data-ttu-id="8597a-142">При использовании расширений на странице вкладки браузера осуществляется переход к веб-набору расширения с помощью среды выполнения Extension.</span><span class="sxs-lookup"><span data-stu-id="8597a-142">When we use extensions, the tab page of your browser gets to the web bundle of your extension using the extension runtime.</span></span>  <span data-ttu-id="8597a-143">Среда выполнения расширения предоставляет файлы с URL-адреса `extension://{some-long-unique-identifier}/index.html` , где `{some-long-unique-identifier}` — уникальный идентификатор, присвоенный расширению при установке.</span><span class="sxs-lookup"><span data-stu-id="8597a-143">The extension runtime serves the files from the URL `extension://{some-long-unique-identifier}/index.html`, where `{some-long-unique-identifier}` is a unique identifier assigned to the extension when it's installed.</span></span>  <span data-ttu-id="8597a-144">Каждое расширение использует другой уникальный идентификатор.</span><span class="sxs-lookup"><span data-stu-id="8597a-144">Each extension uses a different unique identifier.</span></span> <span data-ttu-id="8597a-145">Каждый идентификатор указывает на веб-набор, установленный в браузере.</span><span class="sxs-lookup"><span data-stu-id="8597a-145">Each identifier points to the web bundle that's installed in your browser.</span></span>   

3.  <span data-ttu-id="8597a-146">Расширения могут взаимодействовать с вкладками и панелью инструментов браузера.</span><span class="sxs-lookup"><span data-stu-id="8597a-146">Extensions can communicate with tabs and the browser toolbar.</span></span>   <span data-ttu-id="8597a-147">Расширения могут взаимодействовать с панелью инструментов браузера.</span><span class="sxs-lookup"><span data-stu-id="8597a-147">Extensions can interact with the toolbar of your browser.</span></span> <span data-ttu-id="8597a-148">Каждое расширение управляет запущенными страницами вкладок в отдельных потоках, а манипуляции DOM на каждой странице вкладки изолированы.</span><span class="sxs-lookup"><span data-stu-id="8597a-148">Each extension manages running tab pages in separate threads, and DOM manipulation on each tab page is isolated.</span></span>  <span data-ttu-id="8597a-149">Расширения используют API расширений для связи между расширением и страницами вкладок.</span><span class="sxs-lookup"><span data-stu-id="8597a-149">Extensions use the extensions API to communicate between the extension and tab pages.</span></span>  <span data-ttu-id="8597a-150">Этот API расширения предоставляет дополнительные возможности, которые включают управление уведомлениями, управление хранением и т. д.</span><span class="sxs-lookup"><span data-stu-id="8597a-150">This extension API provides additional capabilities that include notification management, storage management, and so on.</span></span>  

    <span data-ttu-id="8597a-151">Точно так же, как веб-серверы, расширения ожидают уведомлений при открытии браузера.</span><span class="sxs-lookup"><span data-stu-id="8597a-151">Just like web servers, extensions wait on notifications when the browser is open.</span></span>  <span data-ttu-id="8597a-152">Страницы расширений и вкладок работают в потоках, изолированных друг от друга.</span><span class="sxs-lookup"><span data-stu-id="8597a-152">Extensions and tab pages run in threads that are isolated from each other.</span></span> <span data-ttu-id="8597a-153">Тем не менее, разработчики могут использовать API расширений и разрешения в файле манифеста, чтобы разрешить расширению работать с любой страницей вкладки.</span><span class="sxs-lookup"><span data-stu-id="8597a-153">However, developers can use the extensions API, and permissions in the manifest file to allow an extension to work with any tab page.</span></span>  

4. <span data-ttu-id="8597a-154">Расширения предоставляют разрешения на участие в процессе установки.</span><span class="sxs-lookup"><span data-stu-id="8597a-154">Extensions provide opt-in permissions at install time.</span></span>  <span data-ttu-id="8597a-155">Разрешения на расширение определяются разработчиком в `manifest.json` файле.</span><span class="sxs-lookup"><span data-stu-id="8597a-155">Extension permissions are specified by the developer in the `manifest.json` file.</span></span> <span data-ttu-id="8597a-156">При установке расширений пользователи представляют сведения о разрешениях, которые необходимо выполнить для расширения.</span><span class="sxs-lookup"><span data-stu-id="8597a-156">When installing extensions, users are presented with information on the permissions that the extension needs to run.</span></span> <span data-ttu-id="8597a-157">В зависимости от типа требуемого разрешения расширение может извлекать и использовать сведения из браузера.</span><span class="sxs-lookup"><span data-stu-id="8597a-157">Based on the type of permission required, the extension may extract and use information from the browser.</span></span>


## <span data-ttu-id="8597a-158">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="8597a-158">Next steps</span></span>

 <span data-ttu-id="8597a-159">Сведения о том, как приступить к работе с расширениями, приведены в разделе [Создание учебника по созданию расширений][CreateAnExtensionPart1].</span><span class="sxs-lookup"><span data-stu-id="8597a-159">For information on getting started with extensions, see [Create an extension tutorial][CreateAnExtensionPart1].</span></span> 



<!-- image links -->  

<!-- links -->  

[CreateAnExtensionPart1]: ./part1-simple-extension.md "Создание учебника по расширению — часть 1 | Документы Microsoft"  