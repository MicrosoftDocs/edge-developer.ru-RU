---
description: Узнайте, как распространять расширения с помощью альтернативных методов, не использующих проверенные хранилища
title: Альтернативный метод распространения расширений
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 02/17/2021
ms.topic: article
ms.prod: microsoft-edge
keywords: edge-chromium, разработка расширений, расширения браузера, надстройки, Центр партнеров, разработчик
ms.openlocfilehash: 3b2c72e13488632e2fadea2a7e8eb95888f67170
ms.sourcegitcommit: 916b4daa26c2c78611f7d837bd6ecf009f0082df
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/17/2021
ms.locfileid: "11343152"
---
# Альтернативные методы распространения расширений  

Как правило, расширения распространяются через магазин надстройки Microsoft Edge. В некоторых сценариях разработчикам может потребоваться распространять расширения с помощью альтернативных методов. Например:

1.  Расширение связано с другим программным обеспечением и должно быть установлено вместе с остальными пакетными программами.   
1.  Сетевые администраторы хотят распространять расширение по всей организации.   

Расширения, которые не загружаются из магазина надстройки Edge, называются расширениями, установленными извне. Следующий список предоставляет альтернативные методы распространения внешних установленных расширений. 

*   Используйте реестр Windows (только для Windows).  
*   Используйте JSON-файл предпочтений (macOS и Linux).  
    
## Перед началом работы  

Убедитесь, что расширение опубликовано в магазине надстройки Microsoft Edge, или упакуйте файл и убедитесь, что оно успешно устанавливается `.crx` на компьютере.  При установке файла с помощью url-адреса убедитесь, что вы можете перейти к `.crx` `update_URL` расширению по этому URL-адресу.  

Кроме того, убедитесь, что у вас есть следующие сведения.    

1.  Путь к файлу `.crx` или `update_URL` расширение.
1.  Версия расширения.  Сведения о версии доступны в файле манифеста или в Microsoft Edge после `edge://extensions` загрузки упакованного расширения.   
1.  ИД расширения.  Сведения об ИД доступны в Microsoft Edge после `edge://extensions` загрузки упакованного расширения.  

> [!NOTE] 
> В следующих примерах `1.0` используется как версия, так `aaaaaaaaaabbbbbbbbbbcccccccccc` и для ИД.  

## Использование реестра Windows (только для Windows)  

Чтобы распространить расширение с помощью реестра Windows, выполните следующие действия.

1.  Найдите или создайте следующий ключ реестра:  
    *   32-битная версия Windows:  `HKEY_LOCAL_MACHINE\Software\Microsoft\Edge\Extensions` .  
    *   64-битная версия Windows:  `HKEY_LOCAL_MACHINE\Software\Wow6432Node\Microsoft\Edge\Extensions` .  
1.  Создайте новый ключ или папку в папке **Extensions** с тем же именем, что и у вашего расширения. Например, создайте ключ с `aaaaaaaaaabbbbbbbbbbcccccccccc` именем.  
1.  В **ключе Extensions** создайте `update_url` свойство и установите значение `https://edge.microsoft.com/extensionwebstorebase/v1/crx` .  Свойство указывает на файл расширения в магазине надстройки `update_url` `.crx` Microsoft Edge.  

    ```json
    {
        "update_url": "https://edge.microsoft.com/extensionwebstorebase/v1/crx"
    }
    ```  
    
    > [!NOTE]
    > Если вы хотите установить расширение из веб-магазина Chrome, установите `update_url` значение . `https://clients2.google.com/service/update2/crx`  
  
1.  Убедитесь, что расширение указано в Microsoft Edge. `edge://extensions`  

## Использование JSON-файла предпочтений (macOS и Linux)  

Чтобы распространить расширение с помощью JSON-файла настроек, выполните следующие действия.

1.  При использовании Linux убедитесь, что файл расширения доступен на компьютере, на который `.crx` будет установлено расширение. Скопируйте файл расширения в локальный каталог или используйте сетевую папку, достижимую `.crx` с компьютера. 
1.  Создайте JSON-файл, имя которого соответствует ИД расширения. Например, создайте JSON-файл с именем `aaaaaaaaaabbbbbbbbbbcccccccccc.json` файла.  
1.  В зависимости от операционной системы сохраните JSON-файл в одной из следующих папок.   
    *   **macOS**  
        *   Для конкретного пользователя: `~USERNAME/Library/Application Support/Microsoft Edge/External Extensions/`  
        *   Все пользователи: `/Library/Application Support/Microsoft/Edge/External Extensions/`  
        
        Чтобы запретить неавторизованной установке расширений для всех пользователей, убедитесь, что файл расширения только для чтения. Кроме того, убедитесь, что выполнены следующие условия:
        
        *   Каждый каталог в пути принадлежит корню пользователя.  
        *   Каждому каталогу в пути назначена группа `admin` `wheel` или каталог.  
        *   Все каталоги в пути не могут быть переоценены в мире.  
        *   Путь также должен быть без символических ссылок.  
        
    *   **Linux**  
        *   Для конкретного пользователя: `~/.config/microsoft-edge/External Extensions/`  
        *   Все пользователи: `/usr/share/microsoft-edge/extensions/`  
1.  В зависимости от сценария скопируйте соответствующий код, который следует за файлом JSON. 
    *   Применяется только к Linux. При установке из файла укажите расположение и используемую версию `external_crx` и `external_version` .  
            
        ```json
        {
            "external_crx": "/home/share/extension.crx",
            "external_version": "1.0"
        }
        ```  

    *   Применимо к macOS и Linux. При установке с помощью URL-адреса обновления `update_URL` укажите `external_update_url` его. 
        
        Скопируйте следующий код в файл JSON при установке только из локальных файлов `.crx` в Linux.  
    
        ```json
        {
            "external_update_url": "http://myhost.com/mytestextension/updates.xml"
        }
        ```  
 
    *  Скопируйте следующий код в файл JSON при установке из магазина надстроек Microsoft Edge на macOS и Linux.
    
        ```json
        {
            "external_update_url": "https://edge.microsoft.com/extensionwebstorebase/v1/crx"
        }
        ```  
    
1.  Чтобы установить расширения для определенных региональных es, перечислите поддерживаемые с помощью `supported_locale` .  Вы также можете указать родительские языковые языки, чтобы установить расширение для всех языковых языков, которые используют этот родительский. Например, при использовании родительского языка расширение устанавливается для всех английских региональных es, например `en` `en-US` , и так `en-GB` далее.  Когда пользователи изменяют свой региональный уровень в браузере, внешние установленные расширения будут установлены.  Чтобы установить расширение для любого локаула, не используйте `supported_locales` .  

    ```json
    {
        "external_update_url": "https://edge.microsoft.com/extensionwebstorebase/v1/crx",
        "supported_locales": [ "en", "fr", "de" ]
    }
    ```  

1.  Убедитесь, что расширение установлено в Microsoft Edge. `edge://extensions`  

## Обновление и удалить расширения, установленные извне

Microsoft Edge сканирует записи метаданных в реестре каждый раз, когда браузер запускается, и вносит изменения во внешние расширения.  

Чтобы обновить расширение до новой версии, обновите версию в файле манифеста, а затем обновите версию в реестре.  

Возможно, потребуется удалить установленные извне расширения, которые были установлены в составе пакета программного обеспечения, ранее установленного на компьютере.  Чтобы удалить расширение, удалите JSON-файл настроек или удалите ключ из реестра.   

<!-- links -->  

> [!NOTE]
> Некоторые части этой страницы представляют собой измененные материалы, созданные и [предоставленные корпорацией Google][GoogleSitePolicies]. Их использование регулируется условиями, описанными в [лицензии Creative Commons Attribution 4.0 International License][CCA4IL].  Здесь находится исходная [страница.](https://developer.chrome.com/apps/external_extensions)  

[![Лицензия Creative Commons][CCby4Image]][CCA4IL]  
Эта работа предоставляется в рамках международной лицензии [Creative Commons Attribution 4.0 International License][CCA4IL].  

[CCA4IL]: https://creativecommons.org/licenses/by/4.0  
[CCby4Image]: https://i.creativecommons.org/l/by/4.0/88x31.png  
[GoogleSitePolicies]: https://developers.google.com/terms/site-policies  
